<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="snog_movies_forum_type_config_movie" version_id="2020000" version_string="2.2.0"><![CDATA[<xf:checkboxrow name="type_config[available_genres]" value="{$forum.type_config.available_genres}" listclass="field listColumns"
	label="{{ phrase('snog_movies_available_genre') }}"
	explain="{{ phrase('snog_movies_available_genre_explain') }}">

	<xf:options source="$availableGenres" />
</xf:checkboxrow>]]></template>
  <template type="admin" title="snog_movies_option_macros" version_id="2020046" version_string="2.2.0 Beta 16"><![CDATA[<xf:macro name="option_form_block" arg-group="" arg-options="!" arg-containerBeforeHtml="" arg-tabs="!">
	<xf:if is="$options is not empty">
		<div class="block">
			<xf:form action="{{ link('options/update') }}" ajax="true" class="block-container">
				{$containerBeforeHtml|raw}
				<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" data-state="replace" role="tablist">
					<span class="hScroller-scroll">
						<!--[XF:tabs:start]-->
						<xf:foreach loop="$tabs" key="$tabId" i="$i" value="$tab">
							<a class="tabs-tab {{ $tab.active ? 'is-active' : '' }}" role="tab" tabindex="{$i}"
							   id="{$tabId}"
							   aria-controls="{$tabId}"
							   href="{{ link('options/groups', $group) }}#{$tabId}">
								{$tab.label}
							</a>
						</xf:foreach>
						<!--[XF:tabs:end]-->
					</span>
				</h2>

				<ul class="tabPanes">
					<xf:foreach loop="$tabs" key="$tabId" i="$i" value="$tab">
						<li class="{{ $tab.active ? 'is-active' : '' }}" role="tabpanel" aria-labelledby="general-options">
							<div class="block-body">
								<xf:foreach loop="$options" value="$option" if="{{ $option.Relations.{$group.group_id}.display_order >= $tab.start && $option.Relations.{$group.group_id}.display_order < $tab.end }}">

									<xf:if is="$group">
										<xf:set var="$curHundred"
											value="{{ floor($option.Relations.{$group.group_id}.display_order / 100) }}"/>
										<xf:if is="{{ $curHundred > $hundred }}">
											<xf:set var="$hundred" value="{$curHundred}"/>
											<hr class="formRowSep"/>
										</xf:if>
									</xf:if>

									<xf:macro template="option_macros" name="option_row" arg-group="{$group}" arg-option="{$option}"/>
								</xf:foreach>
							</div>
						</li>
					</xf:foreach>
				</ul>

				<xf:submitrow sticky="true" icon="save"/>
			</xf:form>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="admin" title="snog_movies_tools_rebuild" version_id="2020046" version_string="2.2.0 Beta 16"><![CDATA[<span class="u-anchorTarget" id="job-snogMovies"></span>

<xf:form action="{{ link('tools/rebuild') }}" class="block">
	<div class="block-container">
		<h2 class="block-header">[OzzModz] TMDb Movie Thread Starter</h2>
		<div class="block-body">
			<xf:radiorow name="job">
				<xf:option value="Snog\Movies:MovieRatingRebuild">{{ phrase('snog_movies_recalculate_ratings') }}</xf:option>
				<xf:option value="Snog\Movies:MovieRebuild">{{ phrase('snog_movies_rebuild_general_movie_info') }}</xf:option>
				<xf:option value="Snog\Movies:MovieCreditsRebuild">{{ phrase('snog_movies_rebuild_credits') }}</xf:option>
				<xf:option value="Snog\Movies:MoviePersonsRebuild">{{ phrase('snog_movies_rebuild_persons') }}</xf:option>
				<xf:option value="Snog\Movies:MovieVideosRebuild">{{ phrase('snog_movies_rebuild_videos') }}</xf:option>
				<xf:option value="Snog\Movies:MovieWatchProvidersRebuild">{{ phrase('snog_movies_rebuild_watch_providers') }}</xf:option>
				<xf:option value="Snog\Movies:MovieProductionCompaniesRebuild">{{ phrase('snog_movies_rebuild_movie_production_companies') }}</xf:option>
				
				<xf:if is="is_addon_active('ThemeHouse/Covers')">
					<xf:option value="Snog\Movies:MovieThreadCoverUpdate">{{ phrase('snog_movies_rebuild_thread_covers') }}</xf:option>
				</xf:if>
			</xf:radiorow>
		</div>
		
		<xf:submitrow submit="{{ phrase('rebuild_now') }}" />
	</div>
</xf:form>]]></template>
  <template type="admin" title="widget_def_options_snog_movies_poster_slider" version_id="2020040" version_string="2.2.0 Beta 10"><![CDATA[<hr class="formRowSep" />

<xf:checkboxrow>
	<xf:option name="options[advanced_mode]" value="1" selected="{$options.advanced_mode}"
			   label="{{ phrase('advanced_mode') }}"
			   hint="{{ phrase('if_enabled_html_for_your_page_will_not_be_contained_within_block') }}" />
</xf:checkboxrow>

<xf:radiorow name="options[order]" value="{$options.order}" label="{{ phrase('display_order') }}">
	<xf:option value="latest">{{ phrase('snog_movies_latest_movies') }}</xf:option>
	<xf:option value="rating">{{ phrase('snog_movies_most_rated_movies') }}</xf:option>
	<xf:option value="random">{{ phrase('snog_movies_random_movies') }}</xf:option>
	<xf:option value="last_post_date">{{ phrase('last_reply_date') }}</xf:option>
</xf:radiorow>

<xf:numberboxrow name="options[limit]" value="{$options.limit}" min="1"
				 label="{{ phrase('maximum_entries') }}" />


<xf:selectrow name="options[node_ids][]" value="{{ $options.node_ids ?: '' }}" multiple="multiple" size="7"
	label="{{ phrase('forum_limit') }}"
	explain="{{ phrase('only_include_threads_in_selected_forums') }}">

	<xf:option value="">{{ phrase('all_forums') }}</xf:option>
	<xf:foreach loop="$nodeTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.node_id}" disabled="{{ $treeEntry.record.node_type_id != 'Forum' }}">
			{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }} {$treeEntry.record.title}
		</xf:option>
	</xf:foreach>
</xf:selectrow>

<xf:textboxrow name="options[image_width]" value="{$options.image_width}"
			   label="{{ phrase('snog_movies_image_width') }}" />
	
<xf:textboxrow name="options[image_height]" value="{$options.image_height}"
					 label="{{ phrase('snog_movies_image_height') }}" />

<xf:checkboxrow>
	<xf:option name="options[show_rating]" value="1" selected="$options.show_rating"
			   label="{{ phrase('snog_movies_show_rating') }}" />
</xf:checkboxrow>

<h3 class="block-formSectionHeader">
	<span class="collapseTrigger collapseTrigger--block" data-xf-click="toggle" data-target="< :up:next">
		<span class="block-formSectionHeader-aligner">{{ phrase('snog_movies_slider_options') }}</span>
	</span>
</h3>

<div class="block-body block-body--collapsible is-active">
	<xf:numberboxrow name="options[slider][items]" value="{$options.slider.items}" min="1"
					 label="{{ phrase('snog_movies_slider_items') }}" />
	
	<hr class="formRowSep" />
	
	<xf:formrow rowtype="input" label="{{ phrase('snog_movies_slider_items_items_wide') }}">
		<div class="inputGroup">
			<xf:numberbox name="options[slider][itemsWide]" value="{$options.slider.itemsWide}" min="1" />

			<span class="inputGroup-text">{{ phrase('snog_movies_breakpoint:') }}</span>
			<xf:numberbox name="options[slider][breakpointWide]" value="{$options.slider.breakpointWide}" min="1" />
			<span class="inputGroup-text">{{ phrase('units_pixels') }}</span>
		</div>
	</xf:formrow>

	<xf:formrow rowtype="input" label="{{ phrase('snog_movies_slider_items_items_medium') }}">
		<div class="inputGroup">
			<xf:numberbox name="options[slider][itemsMedium]" value="{$options.slider.itemsMedium}" min="1" />

			<span class="inputGroup-text">{{ phrase('snog_movies_breakpoint:') }}</span>
			<xf:numberbox name="options[slider][breakpointMedium]" value="{$options.slider.breakpointMedium}" min="1" />
			<span class="inputGroup-text">{{ phrase('units_pixels') }}</span>
		</div>
	</xf:formrow>
	
	<hr class="formRowSep" />

	<xf:checkboxrow>
		<xf:option name="options[slider][auto]" value="1" selected="{$options.slider.auto}"
				   label="{{ phrase('snog_movies_slider_auto_play') }}"
				   data-hide="true">
			<xf:dependent>
				<xf:numberbox name="options[slider][pause]" value="{$options.slider.pause}" min="1" />
				<p class="formRow-explain">{{ phrase('snog_movies_slider_pause') }}</p>
			</xf:dependent>
		</xf:option>
		
		<xf:option name="options[slider][controls]" value="1" selected="$options.slider.controls" label="{{ phrase('snog_movies_slider_controls') }}" />
		<xf:option name="options[slider][pauseOnHover]" selected="{$options.slider.pauseOnHover}" label="{{ phrase('snog_movies_slider_pause_on_hover') }}" />
		<xf:option name="options[slider][loop]" selected="{$options.slider.loop}" label="{{ phrase('snog_movies_slider_loop_slides') }}" />
		<xf:option name="options[slider][pager]" selected="{$options.slider.pager}" label="{{ phrase('snog_movies_slider_pager') }}" />
	</xf:checkboxrow>
</div>]]></template>
  <template type="admin" title="widget_def_options_snog_movies_slider" version_id="2020040" version_string="2.2.0 Beta 10"><![CDATA[<hr class="formRowSep" />

<xf:radiorow name="options[order]" value="{$options.order}" label="{{ phrase('display_order') }}">
	<xf:option value="latest">{{ phrase('snog_movies_latest_movies') }}</xf:option>
	<xf:option value="rating">{{ phrase('snog_movies_most_rated_movies') }}</xf:option>
	<xf:option value="random">{{ phrase('snog_movies_random_movies') }}</xf:option>
	<xf:option value="last_post_date">{{ phrase('last_reply_date') }}</xf:option>
</xf:radiorow>

<xf:numberboxrow name="options[limit]" value="{$options.limit}" min="1"
				 label="{{ phrase('maximum_entries') }}" />

<xf:selectrow name="options[node_ids][]" value="{{ $options.node_ids ?: '' }}" multiple="multiple" size="7"
	label="{{ phrase('forum_limit') }}"
	explain="{{ phrase('only_include_threads_in_selected_forums') }}">

	<xf:option value="">{{ phrase('all_forums') }}</xf:option>
	<xf:foreach loop="$nodeTree.getFlattened(0)" value="$treeEntry">
		<xf:option value="{$treeEntry.record.node_id}" disabled="{{ $treeEntry.record.node_type_id != 'Forum' }}">
			{{ repeat('&nbsp;&nbsp;', $treeEntry.depth)|raw }} {$treeEntry.record.title}
		</xf:option>
	</xf:foreach>
</xf:selectrow>

<xf:checkboxrow label="{{ phrase('snog_movies_slider_widget_shown_elements') }}">
	<xf:option name="options[show_plot]" value="1" selected="$options.show_plot" label="{{ phrase('snog_movies_plot') }}" />
	<xf:option name="options[show_genres]" value="1" selected="$options.show_genres" label="{{ phrase('snog_movies_genre') }}" />
	<xf:option name="options[show_director]" value="1" selected="$options.show_director" label="{{ phrase('snog_movies_director') }}" />
	<xf:option name="options[show_cast]" value="1" selected="$options.show_cast" label="{{ phrase('snog_movies_cast') }}" />
	<xf:option name="options[show_status]" value="1" selected="$options.show_status" label="{{ phrase('snog_movies_status') }}" />
	<xf:option name="options[show_release_date]" value="1" selected="$options.show_release_date" label="{{ phrase('snog_movies_release') }}" />
	<xf:option name="options[show_runtime]" value="1" selected="$options.show_runtime" label="{{ phrase('snog_movies_runtime') }}" />
</xf:checkboxrow>

<xf:checkboxrow label="{{ phrase('snog_tv_slider_options') }}">
	<xf:option name="options[slider][auto]" value="1" selected="{$options.slider.auto}"
			   label="{{ phrase('snog_movies_slider_auto_play') }}"
			   data-hide="true">
		<xf:dependent>
			<xf:numberbox name="options[slider][pause]" value="{$options.slider.pause}" min="1" />
			<p class="formRow-explain">{{ phrase('snog_movies_slider_pause') }}</p>
		</xf:dependent>
	</xf:option>
	
	<xf:option name="options[slider][controls]" value="1" selected="$options.slider.controls" label="{{ phrase('snog_movies_slider_controls') }}" />
	<xf:option name="options[slider][pauseOnHover]" selected="{$options.slider.pauseOnHover}" label="{{ phrase('snog_movies_slider_pause_on_hover') }}" />
	<xf:option name="options[slider][loop]" selected="{$options.slider.loop}" label="{{ phrase('snog_movies_slider_loop_slides') }}" />
	<xf:option name="options[slider][pager]" selected="{$options.slider.pager}" label="{{ phrase('snog_movies_slider_pager') }}" />
</xf:checkboxrow>]]></template>
  <template type="public" title="search_result_snog_movies_thread" version_id="2020034" version_string="2.2.0 Beta 4"><![CDATA[<li class="block-row block-row--separated {{ $thread.isIgnored() ? 'is-ignored' : '' }} js-inlineModContainer" data-author="{{ $thread.User.username ?: $thread.username }}">
	<xf:css src="snog_movies.less" />
	
	<div class="contentRow {{ !$thread.isVisible() ? 'is-deleted' : '' }}">
		<span class="contentRow-figure">
			<xf:include template="snog_movie_search_result_thread_poster" />
		</span>
		<div class="contentRow-main">
			<h3 class="contentRow-title">
				<a href="{{ link('threads', $thread) }}">{{ prefix('thread', $thread) . highlight($thread.title, $options.term) }}</a>
			</h3>

			<div>
				<xf:macro template="snog_movies_thread_list_movie_macros" name="movie_info" arg-thread="{$thread}"
						  arg-onlyInclude="{{ $xf.options.tmdbthreads_threadListInfo }}" />
			</div>

			<div class="contentRow-minor contentRow-minor--hideLinks">
				<ul class="listInline listInline--bullet">
					<xf:if is="$options.mod == 'thread' && $thread.canUseInlineModeration()">
						<li><xf:checkbox standalone="true">
							<xf:option value="{$thread.thread_id}" class="js-inlineModToggle"
								data-xf-init="tooltip"
								title="{{ phrase('select_for_moderation') }}" />
						</xf:checkbox></li>
					</xf:if>
					<li><xf:username user="{$thread.User}" defaultname="{$thread.username}" /></li>
					<li>{{ phrase('thread') }}</li>
					<li><xf:date time="{$thread.post_date}" /></li>
					<xf:if is="$xf.options.enableTagging && $thread.tags">
						<li>
							<xf:macro template="tag_macros" name="simple_list"
								arg-tags="{$thread.tags}"
								arg-containerClass="contentRow-minor"
								arg-highlightTerm="{{ $options.tag ?: $options.term}}" />
						</li>
					</xf:if>
					<li>{{ phrase('replies:') }} {$thread.reply_count|number}</li>
					<li>{{ phrase('forum:') }} <a href="{{ link('forums', $thread.Forum) }}">{$thread.Forum.title}</a></li>
				</ul>
			</div>
		</div>
	</div>
</li>]]></template>
  <template type="public" title="snog_movie_forum_filters_type_movie" version_id="2020000" version_string="2.2.0"><![CDATA[<xf:extends template="forum_filters" />

<xf:extension name="before_date_limit">
	<div class="menu-row menu-row--separated">
		{{ phrase('snog_movies_genre:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="genre" value="{{ $filters.genre ? $filters.genre : '' }}"
				maxlength="50" />
		</div>
	</div>

	<div class="menu-row menu-row--separated">
		{{ phrase('snog_movies_director:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="director" value="{{ $filters.director ? $filters.director : '' }}"
				maxlength="50" />
		</div>
	</div>

	<div class="menu-row menu-row--separated">
		{{ phrase('snog_movies_cast:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="cast" value="{{ $filters.cast ? $filters.cast : '' }}"
				maxlength="50" />
		</div>
	</div>

	<div class="menu-row menu-row--separated">
		{{ phrase('snog_movies_title:') }}
		<div class="u-inputSpacer">
			<xf:textbox name="movie_title" value="{{ $filters.movie_title ? $filters.movie_title : '' }}"
				maxlength="50" />
		</div>
	</div>

</xf:extension>]]></template>
  <template type="public" title="snog_movie_search_result_thread_poster" version_id="2020034" version_string="2.2.0 Beta 4"><![CDATA[<xf:css src="snog_movies.less" />
<img class="moviePoster" src="{{ $thread.Movie.getImageUrl('s') }}" />]]></template>
  <template type="public" title="snog_movies.less" version_id="2020045" version_string="2.2.0 Beta 15"><![CDATA[/* FIX FOR UiX2 STYLE PROBLEM */
.structItem .structItem-cell--main .structItem-minor {display: block;}

.structItem-movie
{
	font-size: @xf-fontSizeSmaller;
	color: @xf-textColorMuted;

	.m-hiddenLinks();
}

.moviehint{
	font-size: @xf-fontSizeSmaller;
	color: @xf-textColorMuted;
}

.message-movie
{
	display: flex;
	width: 100%;
	padding-top: 10px;
	overflow:hidden;
	
	&.message-movie--reverse
	{
		flex-direction: row-reverse;
	}

	.message-movie-sidebar
	{
		flex: 1;
		width: @xf-snog_moviesMessageSidebarWidth;
		margin: 0 15px 0 15px !important;
		float: left;
		text-align: center;
		vertical-align:top;

		.movie-poster
		{
			padding-bottom: 10px;
			img {
				max-width: @xf-snog_moviesMessagePosterMaxWidth;
			}
		}
	}
	
	.message-movie-main
	{
		width: 100%;
		
		.message--movie
		{
			padding: 10px !important;
		}
	}

	.movie-company img
	{
		height: @xf-snog_movies_productionCompanyImgHeight;
		width: @xf-snog_movies_productionCompanyImgWidth;
	}
}

.message-movieTabs
{
	padding-top: 10px;
}

.movieinfo {
	display:none;
}


.TagPoster1 {
	padding-left:10px;
	width:190px;
	vertical-align:top;
	overflow:hidden;
}

.TagPoster1 img {
	max-width: 185px;
}

.controls.faint {
	text-align:right !important;
}

.tmdbnotice {
	width:100%;
	text-align:center;
	color: @xf-dimmedTextColor;
	font-size:10px;
}

.structItem-cell {
	&.structItem-cell--movie
	{
		text-align: center;
		width: 92px;
		position: relative;
	}
	
	.structItem-secondaryIcon
	{
		position: absolute;
		right: +10px !important;
		bottom: -5px;
	}
}

.moviePoster {
	margin-top:5px;
	width: @xf-snog_movies_posterImageWidth;
	height: @xf-snog_movies_posterImageHeight;
	position: relative;
}

.message-movieUserInfo
{
	.xf-messageUserBlock(no-border);
	border-top: @xf-messageUserBlock--border-width solid @xf-messageUserBlock--border-color;

	&:last-child
	{
		.m-borderBottomRadius(@block-borderRadius-inner);
	}

	.contentRow-figure
	{
		width: @xf-messageUserBlockWidth;
		text-align: center;
	}

	.contentRow-main
	{
		padding-left: 2 * (@xf-messagePadding);
		text-align: left;
	}

	@media (max-width: @xf-messageSingleColumnWidth)
	{
		.contentRow-figure
		{
			width: auto;
		}

		.contentRow-main
		{
			padding-left: @xf-paddingLarge;
		}
	}
}]]></template>
  <template type="public" title="snog_movies_add_info" version_id="2000070" version_string="2.0.0"><![CDATA[<xf:title>{{ phrase('snog_movies_add_info') }}</xf:title>

<xf:form action="{{ link('movies/addinfo', $thread) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow label="{{ phrase('snog_movies_link_id') }}" name="tmdb" value="" />
			
			<xf:checkboxrow>
				<xf:option name="changetitle" value="1" selected="$group.postview" >{{ phrase('snog_movies_change_title') }}</xf:option>
			</xf:checkboxrow>
		</div>
		
		<div class="formRow formSubmitRow">
			<div class="formSubmitRow-main">
				<div class="formSubmitRow-bar"></div>
				<div class="formSubmitRow-controls" style="padding: 5px 0 5px 0; !important;">
					<div style="text-align:center;margin-left:auto;margin-right:auto;">
						<xf:button type="submit" accesskey="s" class="button button--icon button--icon--save">{{ phrase('snog_movies_add_info') }}</xf:button>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:form>]]></template>
  <template type="public" title="snog_movies_casts" version_id="2020021" version_string="2.2.0 Alpha 11"><![CDATA[<xf:title>{{ phrase('snog_movies_x_casts', {'name': $movie.tmdb_title}) }}</xf:title>

<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<xf:macro template="snog_movies_casts_macros" name="cast_list"
			  arg-movie="{$movie}" arg-casts="{$casts}" arg-page="{$page}"
			  arg-hasMore="{$hasMore}" />
</div>]]></template>
  <template type="public" title="snog_movies_casts_macros" version_id="2020042" version_string="2.2.0 Beta 12"><![CDATA[<xf:macro name="cast_list" arg-movie="!" arg-casts="!" arg-page="1" arg-hasMore="{{ false }}">
	<ul class="listPlain listColumns listColumns--3 listColumns--spaced js-movieCastList{$movie.tmdb_id}">
		<xf:foreach loop="{$casts}" value="$cast">
			<li>
				<xf:macro name="cast_info" arg-cast="{$cast}" />
			</li>
		</xf:foreach>
	</ul>

	<xf:if is="$hasMore">
		<div class="block-footer js-movieCastLoadMore{$movie.tmdb_id}">
			<span class="block-footer-controls">
				<xf:button href="{{ link('movies/casts', $movie, {'page': $page + 1}) }}"
					data-xf-click="inserter"
					data-append=".js-movieCastList{$movie.tmdb_id}"
					data-replace=".js-movieCastLoadMore{$movie.tmdb_id}">
					{{ phrase('more...') }}
				</xf:button>
			</span>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="cast_info" arg-cast="!">
	<div class="block-row block-row--separated">
		<div class="contentRow movieTab--casts">
			<span class="contentRow-figure contentRow-figure--fixedMedium contentRow-figure--fixedMedium contentRow-figure--fluidWidth">
				<img src="{{ $cast.Person.image_url ?: base_url(property('snog_movies_castPersonSmallImageUrl')) }}" />
			</span>

			<div class="contentRow-main">
				<xf:macro name="person_menu" arg-person="{$cast.Person}" />
				<h3 class="block-textHeader">
					{$cast.Person.name}
				</h3>
				{$cast.character}
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="person_menu" arg-person="!">
	<xf:if contentcheck="true">
		<div class="contentRow-extra">

			<xf:button class="button--link menuTrigger"
					   data-xf-click="menu"
					   aria-label="{{ phrase('more_options') }}"
					   aria-expanded="false"
					   aria-haspopup="true">
				<xf:fa icon="fa-cog" />
			</xf:button>

			<div class="menu" data-menu="menu" aria-hidden="true">
				<div class="menu-content">
					<xf:contentcheck>
						<xf:if is="$person.canUpdate()">
							<a href="{{ link('movies/person/update', $person) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('snog_movies_update_person_info') }}</a>
						</xf:if>
					</xf:contentcheck>
				</div>
			</div>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="snog_movies_cover_image" version_id="2020050" version_string="2.2.0 Release Candidate"><![CDATA[<xf:title>{{ phrase('thcovers_modify_cover_image') }}</xf:title>

<xf:css src="th_covers.less" />

<xf:form action="{{ link('covers/movie-update', {'content_type': $contentType, 'content_id': $contentId}) }}"
		 ajax="true" upload="true" class="block" data-xf-init="cover-upload">
	<div class="block-container">
		<xf:inforow rowtype="confirm">
			<xf:if is="{$hasNewBackdrop}">
				{{ phrase('snog_movies_new_backdrop_available') }}<br /><br />
				<span style="text-align:center;"><img src="https://image.tmdb.org/t/p/{$xf.options.tmdbthreads_backdropCoverSize}{$backdropPath}" alt="" /></span>
			<xf:else />
				{{ phrase('snog_movies_new_backdrop_not_available') }}
				<xf:if is="{$backdropPath}">
					<strong>{{ phrase('snog_movies_reupload_old_backdrop') }}</strong>
				</xf:if>
			</xf:if>
		</xf:inforow>

		<xf:submitrow submit="{{ phrase('okay') }}" rowtype="simple" class="js-overlayClose" />
	</div>
</xf:form>]]></template>
  <template type="public" title="snog_movies_crews" version_id="2020021" version_string="2.2.0 Alpha 11"><![CDATA[<xf:title>{{ phrase('snog_movies_x_crews', {'name': $movie.tmdb_title}) }}</xf:title>

<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<xf:macro template="snog_movies_crews_macros" name="crew_list"
			  arg-movie="{$movie}" arg-crews="{$crews}" arg-page="{$page}"
			  arg-hasMore="{$hasMore}" />
</div>]]></template>
  <template type="public" title="snog_movies_crews_macros" version_id="2020041" version_string="2.2.0 Beta 11"><![CDATA[<xf:macro name="crew_list" arg-movie="!" arg-crews="!" arg-page="1" arg-hasMore="{{ false }}">
	<ul class="listPlain listColumns listColumns--3 listColumns--spaced js-movieCrewList{$movie.tmdb_id}">
		<xf:foreach loop="{$crews}" value="$crew">
			<li>
				<xf:macro name="crew_info" arg-crew="{$crew}" />
			</li>
		</xf:foreach>
	</ul>

	<xf:if is="$hasMore">
		<div class="block-footer js-movieCrewLoadMore{$movie.tmdb_id}">
			<span class="block-footer-controls">
				<xf:button href="{{ link('movies/crews', $movie, {'page': $page + 1}) }}"
					data-xf-click="inserter"
					data-append=".js-movieCrewList{$movie.tmdb_id}"
					data-replace=".js-movieCrewLoadMore{$movie.tmdb_id}">
					{{ phrase('more...') }}
				</xf:button>
			</span>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="crew_info" arg-crew="!">
	<div class="block-row block-row--separated">
		<div class="contentRow movieTab--crews">
			<span class="contentRow-figure contentRow-figure--fixedMedium contentRow-figure--fixedMedium contentRow-figure--fluidWidth">
				<xf:if is="{$crew.Person.image_url}">
					<img src="{$crew.Person.image_url}" />
				<xf:else />
					<img src="{{ base_url(property('snog_movies_crewPersonSmallImageUrl')) }}" />
				</xf:if>
			</span>

			<div class="contentRow-main">
				<xf:macro name="person_menu" arg-person="{$crew.Person}" />
				<h3 class="block-textHeader">
					{$crew.Person.name} ({$crew.department})
				</h3>
				{$crew.job}
			</div>
		</div>
	</div>
</xf:macro>

<xf:macro name="person_menu" arg-person="!">
	<xf:if contentcheck="true">
		<div class="contentRow-extra">

			<xf:button class="button--link menuTrigger"
					   data-xf-click="menu"
					   aria-label="{{ phrase('more_options') }}"
					   aria-expanded="false"
					   aria-haspopup="true">
				<xf:fa icon="fa-cog" />
			</xf:button>

			<div class="menu" data-menu="menu" aria-hidden="true">
				<div class="menu-content">
					<xf:contentcheck>
						<xf:if is="$person.canUpdate()">
							<a href="{{ link('movies/person/update', $person) }}" data-xf-click="overlay" class="menu-linkRow">{{ phrase('snog_movies_update_person_info') }}</a>
						</xf:if>
					</xf:contentcheck>
				</div>
			</div>
		</div>
	</xf:if>
</xf:macro>]]></template>
  <template type="public" title="snog_movies_forum_view_type_movie" version_id="2020000" version_string="2.2.0"><![CDATA[<xf:extends template="forum_view" />

<xf:extension name="above_node_list"><xf:css src="snog_movies.less" /></xf:extension>

<xf:extension name="below_thread_list"><span class="moviehint">{{ phrase('snog_movies_information')}}</span></xf:extension>]]></template>
  <template type="public" title="snog_movies_movie" version_id="2020042" version_string="2.2.0 Beta 12"><![CDATA[<xf:title>{{ prefix('thread', $thread, 'escaped') }}{$thread.title}</xf:title>
<xf:h1>{{ prefix('thread', $thread) }}{$thread.title}</xf:h1>

<xf:if is="$xf.options.tmdbthreads_use_rating">
	<xf:set var="$rating" value="{$thread.Movie.tmdb_rating}" />
	<div style="margin-bottom:10px;">
		<xf:macro template="rating_macros" name="stars_text"
			arg-rating="{$rating}"
			arg-text="{{ phrase('rating') }}: {$thread.Movie.tmdb_rating}/5 {$thread.Movie.tmdb_votes} {{ phrase('votes') }}"
		/>
	
		<xf:if is="$xf.visitor.user_id">
			<a href="{{ link('movies/rate',$thread.Movie)}}" data-xf-click="overlay"><button type="button" class="button--link button"><span class="button-text">{{ phrase('snog_movies_change_rating') }}</span></button></a>
		</xf:if>
	</div>
</xf:if>

<div class="movieBlock">
	<xf:if is="property('snog_movies_messagePosterPosition') == 'left'">
		<div class="moviethreadposter">
			<img src="{{ $thread.Movie.getImageUrl('l') }}" />
		</div>
	</xf:if>
	
	<div class="message{{ property('snog_movies_messagePosterPosition') == 'left' ? ' messageMovie' : ' messageMovieLeft' }}">
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.title"><b>{{ phrase('title') }}:</b> {$thread.Movie.tmdb_title}<br /></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.tagline && $thread.Movie.tmdb_tagline"><p><b>{{ phrase('snog_movies_tagline') }}:</b> {$thread.Movie.tmdb_tagline}</p></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.genres && $thread.Movie.tmdb_genres"><p><b>{{ phrase('snog_movies_genre') }}:</b> {$thread.Movie.tmdb_genres}</p></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.director && $thread.Movie.tmdb_director"><p><b>{{ phrase('snog_movies_director') }}:</b> {$thread.Movie.tmdb_director}</p></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.cast && $thread.Movie.tmdb_cast"><p><b>{{ phrase('snog_movies_cast') }}:</b> {$thread.Movie.tmdb_cast}</p></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.release_date && $thread.Movie.tmdb_release"><p><b>{{ phrase('snog_movies_release') }}:</b> {$thread.Movie.tmdb_release}</p></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.runtime && $thread.Movie.tmdb_runtime"><p><b>{{ phrase('snog_movies_runtime') }}:</b> {$thread.Movie.tmdb_runtime}</p></xf:if>
		<xf:if is="$xf.options.tmdbthreads_showThreadInfo.plot && $thread.Movie.tmdb_plot"><b>{{ phrase('snog_movies_plot') }}:</b> {$thread.Movie.tmdb_plot}</xf:if>
	</div>
	
	<xf:if is="property('snog_movies_messagePosterPosition') == 'right'">
		<div class="moviethreadposter">
			<img src="{{ $thread.Movie.getImageUrl('l') }}" />
		</div>
	</xf:if>
</div>

<xf:if is="$xf.options.tmdbthreads_showThreadInfo.trailer && $thread.Movie.tmdb_trailer">
	<div class="bbMediaWrapper">
		<div class="bbMediaWrapper-inner">
			<iframe width="500"
				height="300"
				allowfullscreen
				src="https://www.youtube.com/embed/{$thread.Movie.tmdb_trailer}?wmode=opaque&start=0"
				style="border:none;"></iframe>
		</div>
	</div>
	<p></p>
</xf:if>

<xf:if is="!$xf.options.tmdbthreads_force_comments">
	{{ bb_code($thread.Movie.comment, 'post', $post.User, {
		'attachments': $post.attach_count ? $post.Attachments : [],
		'viewAttachments': $thread.canViewAttachments()
	}) }}
</xf:if>

<xf:set var="$fpSnippet" value="{{ snippet($post.message, 0, {'stripBbCode': true}) }}" />

<xf:page option="ldJsonHtml">
	<script type="application/ld+json">
	{
		"@context": "https://schema.org",
		"@type": "DiscussionForumPosting",
		"@id": "{{ link('canonical:threads', $thread)|escape('js') }}",
		"headline": "{$thread.title|escape('htmljs')}",
		"datePublished": "{{ date($post.post_date,'Y-m-d') }}",
		"articleBody": "{$fpSnippet|escape('htmljs')}",
		"articleSection": "{$thread.Forum.Node.title|escape('htmljs')}",
		"author": {
			"@type": "Person",
			"name": "{{ ($thread.User ? $thread.User.username : $thread.username)|escape('htmljs') }}"
		},
		"interactionStatistic": {
			"@type": "InteractionCounter",
			"interactionType": "https://schema.org/ReplyAction",
			"userInteractionCount": {$thread.reply_count}
		}
	}
	</script>
	
	<script type="application/ld+json">
	{
  		"@context": "http://schema.org/",
  		"@type": "Movie",
  		"name": "{$thread.Movie.tmdb_title}",
		"director": "{$thread.Movie.tmdb_director}",
		"dateCreated": "{$thread.Movie.tmdb_release}",
		"duration": "PT{$thread.Movie.tmdb_runtime}M",
  		"image": "{$thread.Movie.getImageUrl('l')}",
  		"description": "{$thread.Movie.tmdb_plot}"<xf:if is="$thread.Movie.tmdb_rating > 0">,
		"aggregateRating": {
    		"@type": "AggregateRating",
    		"bestRating": "5",
			"worstRating": "1",
    		"ratingCount": "{$thread.Movie.tmdb_votes}",
    		"ratingValue": "{$thread.Movie.tmdb_rating}"
  		}</xf:if>
	}
	</script>
</xf:page>]]></template>
  <template type="public" title="snog_movies_movie_edit" version_id="2020020" version_string="2.2.0 Alpha 10"><![CDATA[<xf:title>{{ phrase('snog_movies_edit_movie') }}</xf:title>

<xf:breadcrumb source="$thread.getBreadcrumbs()" />

<xf:form action="{{ link('movies/edit', $movie) }}" ajax="true" class="block"
	data-xf-init="attachment-manager{{ ($post.isFirstPost() AND $thread.canEdit()) ? ' post-edit' : '' }}"
	data-preview-url="{{ link('posts/preview', $post) }}">

	<div class="block-container">
		<div class="block-body">
			<xf:textboxrow label="{{ phrase('title') }}" name="tmdb_title" value="{$movie.tmdb_title}" />

			<xf:textboxrow label="{{ phrase('snog_movies_tagline') }}" name="tmdb_tagline" value="{$movie.tmdb_tagline}" />
			
			<xf:textboxrow label="{{ phrase('snog_movies_genre') }}" name="tmdb_genres" value="{$movie.tmdb_genres}" />

			<xf:textarearow name="tmdb_director" value="{$movie.tmdb_director}" label="{{ phrase('snog_movies_director') }}"
				autosize="true"
			/>

			<xf:textarearow name="tmdb_cast" value="{$movie.tmdb_cast}" label="{{ phrase('snog_movies_cast') }}" autosize="true"/>
			
			<xf:textboxrow label="{{ phrase('snog_movies_status') }}" name="tmdb_status" value="{$movie.tmdb_status}" />

			<xf:textboxrow label="{{ phrase('snog_movies_release') }}" name="tmdb_release" value="{$movie.tmdb_release}" />

			<xf:textboxrow label="{{ phrase('snog_movies_runtime') }}" name="tmdb_runtime" value="{$movie.tmdb_runtime}" />

			<xf:textarearow name="tmdb_plot" value="{$movie.tmdb_plot}" label="{{ phrase('snog_movies_plot') }}" autosize="true" />
			
			<xf:textboxrow label="{{ phrase('snog_movies_trailer') }}" name="tmdb_trailer" value="{$movie.tmdb_trailer}" explain="{{ phrase('snog_movies_trailer_explain') }}"/>

			<xf:if is="$movie.comment">
				<xf:editorrow name="message" value="{$movie.comment}"
					attachments="{$attachmentData.attachments}"
					data-min-height="100"
					maxlength="{$xf.options.messageMaxLength}"
					label="{{ phrase('comment') }}" />

				<xf:formrow rowtype="{{ $quickEdit ? 'fullWidth noLabel' : '' }}">
					<xf:if is="$attachmentData">
						<xf:macro template="helper_attach_upload" name="upload_block" arg-attachmentData="{$attachmentData}" />
					</xf:if>
					<xf:button class="button--link u-jsOnly" data-xf-click="preview-click" icon="preview" />
				</xf:formrow>
			</xf:if>
	
		</div>

		<xf:submitrow icon="save" sticky="true" rowtype="{{ $quickEdit ? 'simple' : '' }}">
			<xf:html>
				<xf:if is="$quickEdit">
					<xf:button class="js-cancelButton">{{ phrase('button.cancel') }}</xf:button>
				</xf:if>
			</xf:html>
		</xf:submitrow>
	</div>
</xf:form>]]></template>
  <template type="public" title="snog_movies_movie_macros" version_id="2020034" version_string="2.2.0 Beta 4"><![CDATA[]]></template>
  <template type="public" title="snog_movies_new_poster" version_id="2020046" version_string="2.2.0 Beta 16"><![CDATA[<xf:title>{{ phrase('snog_movies_check_poster') }}</xf:title>

<xf:form action="{{ link('movies/poster', $movie) }}" ajax="true" class="block">
	<div class="block-container">
		<div class="block-body">
			<xf:inforow rowtype="confirm">
				<xf:if is="{$newposter}">
					{{ phrase('snog_movies_poster_available') }}
					<div class="u-alignCenter"><img src="https://image.tmdb.org/t/p/{$xf.options.tmdbthreads_largePosterSize}{$posterpath}" alt="" /></div>
				<xf:else />
					{{ phrase('snog_movies_poster_not_available') }}
					<xf:if is="{$posterpath}">
						<strong>{{ phrase('snog_movies_reupload_old_poster') }}</strong>
					</xf:if>
				</xf:if>
			</xf:inforow>

			<xf:if is="{$posterpath}">
				<xf:submitrow submit="{{ phrase('snog_movies_save_poster') }}" rowtype="simple" />
				<input type="hidden" name="posterpath" value="{$posterpath}" />
			</xf:if>
		</div>
	</div>
</xf:form>]]></template>
  <template type="public" title="snog_movies_post_macros" version_id="2020048" version_string="2.2.0 Beta 18"><![CDATA[<xf:macro name="movie"
	arg-post="!"
	arg-thread="!"
	arg-forum="{{ null }}"
	arg-crews="{{ [] }}"
	arg-crewsTotal="0"
	arg-crewsHasMore="{{ false }}"
	arg-casts="{{ [] }}"
	arg-castsTotal="0"
	arg-castsHasMore="{{ false }}"
	arg-videos="{{ [] }}"
	arg-videosTotal="0"
	arg-videosHasMore="{{ false }}"
	arg-companies="{{ [] }}">

	<xf:css src="message.less" />
	<xf:css src="snog_movies.less" />
	
	<xf:extension name="before"></xf:extension>
	
	<article class="message message--movie js-post js-inlineModContainer
		{{ $thread.discussion_state == 'moderated' ? 'is-moderated' : '' }}
		{{ $thread.discussion_state == 'deleted' ? 'is-deleted' : '' }}"
		data-author="{{ $post.User.username ?: $post.username }}"
		data-content="post-{$post.post_id}"
		id="js-post-{$post.post_id}">

		<span class="u-anchorTarget" id="post-{$post.post_id}"></span>
		<div class="message-inner">
			<div class="message-cell message-cell--main">
				<div class="message-expandWrapper js-expandWatch is-expanded">
					<div class="message-expandContent js-expandContent">
						<div class="message-main js-quickEditTarget">

							<xf:macro name="post_macros::post_attribution"
									  arg-post="{$post}"
									  arg-thread="{$thread}"
									  arg-mainClass="listInline--bullet"
									  arg-showPosition="{{ false }}" />

							<xf:macro name="post_macros::post_notices" arg-post="{$post}" arg-thread="{$thread}" />

							<div class="message-content js-messageContent">
								<!--[XF:snog_movies_movie_block_top]-->
								<div class="message-movie{{ property('snog_movies_messagePosterPosition') == 'right' ? ' message-movie--reverse' : '' }}">
									
									<div class="message-movie-sidebar">
										<div class="movie-poster">
											<xf:if is="$thread.Movie.tmdb_image">
												<xf:if is="$xf.options.tmdbthreads_forum_local">
													<img src="{$thread.Movie.getImageUrl('l')}" />
												<xf:elseif is="$xf.options.tmdbthreads_usecdn" />
													<img src="{$xf.options.tmdbthreads_cdn_path}/movies/LargePosters{$thread.Movie.tmdb_image}" />
												<xf:else />
													<img src="https://image.tmdb.org/t/p/w185{$thread.Movie.tmdb_image}" />
												</xf:if>
											<xf:else />
												<img src="{$thread.Movie.getImageUrl('l', 1)}" />
											</xf:if>

											<xf:if is="$xf.options.tmdbthreads_use_rating">
												<xf:set var="$rating" value="{$thread.Movie.tmdb_rating}" />
												<div style="padding-top: 10px;">
													<xf:macro template="rating_macros" name="stars_text"
														arg-rating="{$rating}" arg-text=" " />
												</div>
												
												<div>{$thread.Movie.tmdb_rating}/5 {$thread.Movie.tmdb_votes} {{ phrase('votes') }}</div>
												
												<xf:if is="$xf.visitor.user_id">
													<div>
														<xf:button class="button--link button--wrap" href="{{ link('movies/rate', $thread.Movie) }}" overlay="true">
															{{ phrase('snog_movies_change_rating') }}
														</xf:button>
													</div>
												</xf:if>
												
											</xf:if>
											
											<xf:if is="property('snog_movies_messageCompaniesPosition') == 'left'">
												<xf:if is="$companies is not empty">
													<div class="message message--movie movie-companies">
														<xf:if is="property('snog_movies_messageCompaniesTitle')">
															<h4 class="block-textHeader">{{ phrase('snog_movies_production_companies:') }}</h4>
														</xf:if>
														<xf:macro name="production_company_list" arg-companies="{$companies}" />
													</div>
												</xf:if>
											</xf:if>

										</div>
									</div>
									
									<div class="message-movie-main">
										<!--[XF:snog_movies_movie_message_top]-->
										<div class="message message--movie">
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.title"><b>{{ phrase('title') }}:</b> {$thread.Movie.tmdb_title}<br /></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.tagline && $thread.Movie.tmdb_tagline"><p><b>{{ phrase('snog_movies_tagline') }}:</b> {$thread.Movie.tmdb_tagline}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.genres && $thread.Movie.tmdb_genres"><p><b>{{ phrase('snog_movies_genre') }}:</b> {$thread.Movie.tmdb_genres}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.director && $thread.Movie.tmdb_director"><p><b>{{ phrase('snog_movies_director') }}:</b> {$thread.Movie.tmdb_director}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.cast && $thread.Movie.tmdb_cast"><p><b>{{ phrase('snog_movies_cast') }}:</b> {$thread.Movie.tmdb_cast}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.status && $thread.Movie.tmdb_status"><p><b>{{ phrase('snog_movies_status') }}:</b> {$thread.Movie.tmdb_status}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.release_date && $thread.Movie.tmdb_release"><p><b>{{ phrase('snog_movies_release') }}:</b> {$thread.Movie.tmdb_release}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.runtime && $thread.Movie.tmdb_runtime"><p><b>{{ phrase('snog_movies_runtime') }}:</b> {$thread.Movie.tmdb_runtime}</p></xf:if>
											<xf:if is="$xf.options.tmdbthreads_showThreadInfo.plot && $thread.Movie.tmdb_plot"><b>{{ phrase('snog_movies_plot') }}:</b> {$thread.Movie.tmdb_plot}</xf:if>
										</div>
										<!--[XF:snog_movies_movie_message_bottom]-->

										<xf:if is="property('snog_movies_messageCompaniesPosition') == 'right'">
											<xf:if is="$companies is not empty">
												<div class="message message--movie movie-companies">
													<xf:if is="property('snog_movies_messageCompaniesTitle')">
														<h4 class="block-textHeader">{{ phrase('snog_movies_production_companies') }}</h4>
													</xf:if>
													<xf:macro name="production_company_list" arg-companies="{$companies}" />
												</div>
											</xf:if>
										</xf:if>

										<xf:extension name="watch_providers">
											<xf:set var="$watchProviders" value="{$thread.Movie.getWatchProviders()}" />
											<xf:if is="$watchProviders">
												<div class="message message--movie messageMovie--watch">
													<h4 class="block-textHeader">
														{{ phrase('snog_movies_where_to_watch') }}
														<div class="u-pullRight">
															<xf:select value="{{ $xf.visitor.Option.snog_movies_tmdb_watch_region ?: $xf.options.tmdbthreads_watchProviderRegion }}">
																<xf:foreach loop="{{ $thread.Movie.getWatchProviderCountries() }}" key="$region" value="$phrase">
																	<xf:option value="{$region}" data-xf-init="disabler" data-container=".js-movieWatchData-{$region}" data-hide="on">
																		{$phrase}
																	</xf:option>
																</xf:foreach>
															</xf:select>
														</div>
													</h4>

													<xf:foreach loop="$watchProviders" key="$region" value="$watchProvider" if="$watchProvider.link">

														<div class="js-movieWatchData-{$region}">
															<xf:if is="$watchProvider.flatrate">
																{{ phrase('snog_movies_streaming:') }}
																<xf:macro name="watch_provider_list" arg-providerType="{$watchProvider.flatrate}" />
															</xf:if>

															<xf:if is="$watchProvider.buy">
																{{ phrase('snog_movies_buy:') }}
																<xf:macro name="watch_provider_list" arg-providerType="{$watchProvider.buy}" />
															</xf:if>

															<xf:if is="$watchProvider.rent">
																{{ phrase('snog_movies_rent:') }}
																<xf:macro name="watch_provider_list" arg-providerType="{$watchProvider.rent}" />
															</xf:if>

															<br />

															<xf:button href="{$watchProvider.link}"  target="_blank">{{ phrase('snog_movies_more_details_on_tmdb') }}</xf:button>
														</div>
													</xf:foreach>

												</div>
											</xf:if>
										</xf:extension>

										<xf:if is="!$xf.options.tmdbthreads_force_comments && $thread.Movie.comment is not empty">
											<div class="message">
												<div class="message-userContent">
													<article class="message-body">
														{{ bb_code($thread.Movie.comment, 'post', $post.User, {
															'attachments': $post.attach_count ? $post.Attachments : [],
															'viewAttachments': $thread.canViewAttachments()
														}) }}
													</article>
												</div>
											</div>
										</xf:if>

									</div>
								</div>

								<!--[XF:snog_movies_movie_block_bottom]-->
								
								<div class="movieTabsBlock">

									<xf:if contentcheck="true">
										<h2 class="block-tabHeader tabs hScroller" data-xf-init="tabs h-scroller" role="tablist">
											<span class="hScroller-scroll">
												<xf:contentcheck>
													<!--[XF:snog_movies_tabs_start]-->
													<xf:if is="$xf.options.tmdbthreads_showThreadInfo.trailer && $thread.Movie.tmdb_trailer">
														<a class="tabs-tab is-active" role="tab" tabindex="0" aria-controls="movie-trailer">
															{{ phrase('snog_movies_trailer') }}
														</a>
													</xf:if>
													<!--[XF:snog_movies_tabs_before_cast]-->
													<xf:if is="$xf.options.tmdbthreads_showThreadInfo.cast_tab && $casts is not empty">
														<a class="tabs-tab" role="tab" tabindex="0" aria-controls="movie-cast">
															{{ phrase('snog_movies_cast') }}
														</a>
													</xf:if>
													<!--[XF:snog_movies_tabs_before_crew]-->
													<xf:if is="$xf.options.tmdbthreads_showThreadInfo.crew_tab && $crews is not empty">
														<a class="tabs-tab" role="tab" tabindex="0" aria-controls="movie-crew">
															{{ phrase('snog_movies_crew') }}
														</a>
													</xf:if>
													<!--[XF:snog_movies_tabs_before_videos]-->
													<xf:if is="$xf.options.tmdbthreads_showThreadInfo.videos_tab && $videos is not empty">
														<a class="tabs-tab" role="tab" tabindex="0" aria-controls="movie-videos">
															{{ phrase('snog_movies_videos') }}
														</a>
													</xf:if>
													<!--[XF:snog_movies_tabs_end]-->
												</xf:contentcheck>
											</span>
										</h2>
									</xf:if>

									<xf:if contentcheck="true">
										<ul class="tabPanes">
											<xf:contentcheck>
												<!--[XF:snog_movies_tabPanes_start]-->
												<xf:if is="$xf.options.tmdbthreads_showThreadInfo.trailer && $thread.Movie.tmdb_trailer">
													<li class="block-body is-active" role="tabpanel" id="movie-trailer">
														<div class="block-row">
															<div class="bbMediaWrapper">
																<div class="bbMediaWrapper-inner">
																	<iframe width="500"
																		height="300"
																		allowfullscreen
																		src="https://www.youtube.com/embed/{$thread.Movie.tmdb_trailer}?wmode=opaque&start=0"
																		style="border:none;"></iframe>
																</div>
															</div>
														</div>
													</li>
												</xf:if>
												<!--[XF:snog_movies_tabPanes_before_casts]-->
												<xf:if is="$xf.options.tmdbthreads_showThreadInfo.cast_tab && $casts is not empty">
													<li class="block-body" role="tabpanel" id="movie-casts">
														<div class="block-row">
															<xf:macro template="snog_movies_casts_macros" name="cast_list"
																  arg-movie="{$thread.Movie}" arg-casts="{$casts}" arg-page="1"
																  arg-hasMore="{$castsHasMore}" />
														</div>
													</li>
												</xf:if>

												<!--[XF:snog_movies_tabPanes_before_crew]-->
												<xf:if is="$xf.options.tmdbthreads_showThreadInfo.crew_tab && $crews is not empty">
													<li class="block-body" role="tabpanel" id="movie-crew">
														<div class="block-row">
															<xf:macro template="snog_movies_crews_macros" name="crew_list"
																  arg-movie="{$thread.Movie}" arg-crews="{$crews}" arg-page="1"
																  arg-hasMore="{$crewsHasMore}" />
														</div>
													</li>
												</xf:if>

												<!--[XF:snog_movies_tabPanes_before_videos]-->
												<xf:if is="$xf.options.tmdbthreads_showThreadInfo.videos_tab && $videos is not empty">
													<li class="block-body" role="tabpanel" id="movies-videos">
														<div class="block-row">
															<xf:macro template="snog_movies_videos_macros" name="video_list"
																  arg-movie="{$thread.Movie}" arg-videos="{$videos}" arg-page="1"
																  arg-hasMore="{$videosHasMore}" />
														</div>
													</li>
												</xf:if>

												<!--[XF:snog_movies_tabPanes_end]-->
											</xf:contentcheck>
										</ul>
									</xf:if>
								</div>

								<xf:macro name="post_macros::post_last_edit" arg-post="{$post}" />
							</div>

							<xf:macro name="post_macros::post_footer" arg-post="{$post}" arg-thread="{$thread}" />
						</div>
					</div>
					<div class="message-expandLink js-expandLink"><a role="button" tabindex="0">{{ phrase('click_to_expand') }}</a></div>
				</div>
			</div>
		</div>

	
		<aside class="message-movieUserInfo">
			<div class="message-cell">
				<xf:macro name="author_info" arg-user="{$post.User}" arg-fallbackName="{$post.username}" />
			</div>
		</aside>

	</article>

	<xf:ad position="post_below_container" arg-post="{$post}" />

</xf:macro>

<xf:macro name="production_company_list" arg-companies="!">
	<ul class="listHeap">
		<xf:foreach loop="{$companies}" value="$company">
			<li>
				<div class="listHeap-iconContainer">
					<a href="{$company.homepage}" target="_blank" class="movie-company" data-xf-init="tooltip" title="{$company.name}">
						<xf:if is="$company.image_url is not empty">
							<img src="{$company.image_url}" alt="{$company.name}"> 
						<xf:else />
							{$company.name}
						</xf:if>
					</a>
				</div>
			</li>
		</xf:foreach>
	</ul>
</xf:macro>

<xf:macro name="watch_provider_list" arg-providerType="!">
	<ul class="listHeap">
		<xf:foreach loop="{$providerType}" value="$watchProvider">
			<li>
				<div class="listHeap-iconContainer">
					<a class="messageMovie--provider" data-xf-init="tooltip" title="{$watchProvider.provider_name}">
						<img src="https://www.themoviedb.org/t/p/original/{$watchProvider.logo_path}" width="{{ property('snog_movies_watchProviderImgSize') }}" height="{{ property('snog_movies_watchProviderImgSize') }}"> 
					</a>
				</div>
			</li>
		</xf:foreach>
	</ul>
</xf:macro>

<xf:macro name="author_info" arg-user="!" arg-fallbackName="">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:avatar user="$user" size="m" defaultname="{$fallbackName}" />
		</div>
		<div class="contentRow-main">

			<div class="message-articleUserFirstLine">
				<div class="message-articleWrittenBy u-srOnly">{{ phrase('article_written_by') }}</div>
				<h3 class="message-articleUserName">
					<xf:username user="$user" rich="true" defaultname="{$fallbackName}" />
				</h3>

				<xf:if contentcheck="true">
					<div class="message-articleUserBlurb">
						<xf:contentcheck>
							<xf:userblurb user="$user" tag="div" />
						</xf:contentcheck>
					</div>
				</xf:if>
			</div>

			<xf:if contentcheck="true">
				<div class="message-articleUserAbout">
					<xf:contentcheck>
						<xf:if is="$user.Profile.about != ''">
							{{ bb_code($user.Profile.about, 'user:about', $user) }}
						</xf:if>
					</xf:contentcheck>
				</div>
			</xf:if>

			<xf:if contentcheck="true">
				<div class="message-articleUserBanners">
					<xf:contentcheck><xf:userbanners user="$user" /></xf:contentcheck>
				</div>
			</xf:if>

			<div class="message-articleUserStats">
				<ul class="listInline listInline--bullet">
					<!--[XF:stats:start]-->
					<li><dl class="pairs pairs--inline">
						<dt>{{ phrase('messages') }}</dt>
						<dd>{$user.message_count|number}</dd>
					</dl></li>
					<!--[XF:stats:after_messages]-->
					<li><dl class="pairs pairs--inline">
						<dt>{{ phrase('reaction_score') }}</dt>
						<dd>{$user.reaction_score|number}</dd>
					</dl></li>
					<!--[XF:stats:after_likes]-->
					<!--[XF:stats:after_reactions]-->
					<xf:if is="$xf.options.enableTrophies">
						<li><dl class="pairs pairs--inline">
							<dt>{{ phrase('points') }}</dt>
							<dd>{$user.trophy_points|number}</dd>
						</dl></li>
					</xf:if>
					<!--[XF:stats:end]-->
				</ul>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="snog_movies_rate" version_id="2020020" version_string="2.2.0 Alpha 10"><![CDATA[<xf:title>{$movie.tmdb_title}</xf:title>

<xf:form action="{{ link('movies/rate', $movie) }}" ajax="true" class="block">
	<div class="block-container">
			<div class="block-body">
				<xf:macro template="rating_macros" name="rating"
					arg-row="{{ true }}"
					arg-name="rating"
					arg-currentRating="{$userRating.rating}"
					arg-rowLabel="{{ phrase('rating') }}"
					arg-rowHint=""
					arg-rowExplain="{{ phrase('snog_movies_already_rated') }}" />
		</div>
		
		<div class="formRow formSubmitRow">
			<div class="formSubmitRow-main">
				<div class="formSubmitRow-bar"></div>
				<div class="formSubmitRow-controls" style="padding: 5px 0 5px 0; !important;">
					<div style="text-align:center;margin-left:auto;margin-right:auto;">
						<xf:button type="submit" accesskey="s" class="button button--icon button--icon--save">{{ phrase('submit_rating') }}</xf:button>
					</div>
				</div>
			</div>
		</div>
	</div>
</xf:form>]]></template>
  <template type="public" title="snog_movies_slider.less" version_id="2020038" version_string="2.2.0 Beta 8"><![CDATA[.carousel-moviePosterSlider
{
	.carousel-item-simple
	{
		border-radius: @xf-blockBorderRadius;
		width: 100%;
		min-width: 0;
		margin: 0 auto;
	}
	
	.carousel-item-image
	{ 
		display: flex;
		flex-flow: row nowrap;
		align-items: flex-end;
		justify-content: center;
		position: relative;
		text-align: center;
		word-break: break-word;
		color: rgb(255, 255, 255);

		.carousel-item-caption
		{
			position: absolute;
			margin: 0;
			word-break: break-word;
			background: rgba(0, 0, 0, 0.5);
			height: 2.5em;
			width: 100%;
			line-height: 2.5;
		}
	}
	
	.carousel-item-label
	{
		position: absolute;
		top: 0;
		word-break: break-word;
		background: rgba(0, 0, 0, 0.5);
		right: 0;
		margin: 10px;
		padding: 5px;

	}
}]]></template>
  <template type="public" title="snog_movies_thread_list_movie_macros" version_id="2020034" version_string="2.2.0 Beta 4"><![CDATA[<xf:macro name="item" extends="thread_list_macros::item">
	<xf:extension name="icon_cell">
		<xf:if is="$thread.Movie is not empty">
			<xf:include template="snog_movies_thread_list_poster" />
		<xf:else />
			<xf:extensionparent />
		</xf:if>
	</xf:extension>
	
	<xf:extension name="main_cell">
		<xf:if is="$thread.Movie is not empty">
			<div class="structItem-cell structItem-cell--main" data-xf-init="touch-proxy">
				<xf:if contentcheck="true">
					<ul class="structItem-statuses">
					<xf:contentcheck>
					<xf:extension name="statuses">
						<xf:if is="property('reactionSummaryOnLists') == 'status' && $thread.first_post_reactions">
							<li><xf:reactions summary="true" reactions="{$thread.first_post_reactions}" /></li>
						</xf:if>
						<xf:extension name="before_status_state"></xf:extension>
						<xf:if is="$thread.discussion_state == 'moderated'">
							<li>
								<i class="structItem-status structItem-status--moderated" aria-hidden="true" title="{{ phrase('awaiting_approval')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('awaiting_approval') }}</span>
							</li>
						</xf:if>
						<xf:if is="$thread.discussion_state == 'deleted'">
							<li>
								<i class="structItem-status structItem-status--deleted" aria-hidden="true" title="{{ phrase('deleted')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('deleted') }}</span>
							</li>
						</xf:if>
						<xf:if is="!$thread.discussion_open">
							<li>
								<i class="structItem-status structItem-status--locked" aria-hidden="true" title="{{ phrase('locked')|for_attr }}"></i>
								<span class="u-srOnly">{{ phrase('locked') }}</span>
							</li>
						</xf:if>

						<xf:extension name="status_sticky">
							<xf:if is="$thread.sticky">
								<li>
									<i class="structItem-status structItem-status--sticky" aria-hidden="true" title="{{ phrase('sticky')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('sticky') }}</span>
								</li>
							</xf:if>
						</xf:extension>

						<xf:extension name="before_status_watch"></xf:extension>
						<xf:if is="{$showWatched} AND {$xf.visitor.user_id}">
							<xf:if is="{$thread.Watch.{$xf.visitor.user_id}}">
								<li>
									<i class="structItem-status structItem-status--watched" aria-hidden="true" title="{{ phrase('thread_watched')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('thread_watched') }}</span>
								</li>
								<xf:elseif is="!$forum AND {$thread.Forum.Watch.{$xf.visitor.user_id}}" />
								<li>
									<i class="structItem-status structItem-status--watched" aria-hidden="true" title="{{ phrase('forum_watched')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('forum_watched') }}</span>
								</li>
							</xf:if>
						</xf:if>

						<xf:extension name="before_status_type">
							<xf:if is="$xf.options.tmdbthreads_use_rating">
								<ul class="structItem-extraInfo">
									<li>
										<xf:macro template="rating_macros" name="stars"
												  arg-rating="{$thread.Movie.tmdb_rating}" />
									</li>
								</ul>
							</xf:if>
						</xf:extension>
						
						<xf:if is="$thread.discussion_type == 'redirect'">
							<xf:extension name="thread_type_redirect">
								<li>
									<i class="structItem-status structItem-status--redirect" aria-hidden="true" title="{{ phrase('redirect')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('redirect') }}</span>
								</li>
							</xf:extension>
						<xf:elseif is="$thread.discussion_type == 'question' && $thread.type_data.solution_post_id" />
							<xf:extension name="thread_type_question_solved">
								<li>
									<i class="structItem-status structItem-status--solved" aria-hidden="true" title="{{ phrase('solved')|for_attr }}"></i>
									<span class="u-srOnly">{{ phrase('solved') }}</span>
								</li>
							</xf:extension>
						<xf:elseif is="!$forum || $forum.forum_type_id == 'discussion'" />
							<xf:extension name="thread_type_icon">
								<xf:if is="$thread.discussion_type != 'discussion'">
									<xf:set var="$threadTypeHandler" value="{{ $thread.getTypeHandler() }}" />
									<xf:if is="$threadTypeHandler.getTypeIconClass()">
										<li>
											<xf:set var="$threadTypePhrase" value="{{ $threadTypeHandler.getTypeTitle() }}" />
											<xf:fa class="structItem-status" icon="{{ $threadTypeHandler.getTypeIconClass() }}" title="{$threadTypePhrase|for_attr}" />
											<span class="u-srOnly">{$threadTypePhrase}</span>
										</li>
									</xf:if>
								</xf:if>
							</xf:extension>
						</xf:if>
					</xf:extension>
					</xf:contentcheck>
					</ul>
				</xf:if>

				<div class="structItem-title">
					<xf:set var="$canPreview" value="{{ $thread.canPreview() }}" />
					<xf:if is="$thread.prefix_id">
						<xf:if is="$forum">
							<a href="{{ link('forums', $forum, {'prefix_id': $thread.prefix_id}) }}" class="labelLink" rel="nofollow">{{ prefix('thread', $thread, 'html', '') }}</a>
						<xf:else />
							{{ prefix('thread', $thread, 'html', '') }}
						</xf:if>
					</xf:if>
					<a href="{{ link('threads' . (($thread.isUnread() AND !$forceRead) ? '/unread' : ''), $thread) }}" class="" data-tp-primary="on" data-xf-init="{{ $canPreview ? 'preview-tooltip' : '' }}" data-preview-url="{{ $canPreview ? link('threads/preview', $thread) : '' }}">{$thread.title}</a>
				</div>

				<div class="structItem-minor">
					<xf:if contentcheck="true">
						<ul class="structItem-extraInfo">
						<xf:contentcheck>
							<xf:if is="property('reactionSummaryOnLists') == 'minor_opposite' && $thread.first_post_reactions">
								<li><xf:reactions summary="true" reactions="{$thread.first_post_reactions}" /></li>
							</xf:if>
							<xf:if is="{$extraInfo}">
								<li>{$extraInfo}</li>
							<xf:elseif is="$allowEdit AND $thread.canEdit() AND $thread.canUseInlineModeration()" />
								<xf:if is="!$allowInlineMod OR !$forum">
									<xf:set var="$editParams" value="{{ {
										'_xfNoInlineMod': !$allowInlineMod ? 1 : null,
										 '_xfForumName': !$forum ? 1 : 0
									} }}" />
								<xf:else />
									<xf:set var="$editParams" value="{{ [] }}" />
								</xf:if>
								<xf:if is="$thread.discussion_type != 'redirect'">
									<li class="structItem-extraInfoMinor">
										<a href="{{ link('threads/edit', $thread) }}" data-xf-click="overlay" data-cache="false" data-href="{{ link('threads/edit', $thread, $editParams) }}">
											{{ phrase('edit') }}
										</a>
									</li>
								</xf:if>
							</xf:if>
							<xf:if is="$chooseName">
								<li><xf:checkbox standalone="true">
									<xf:option name="{$chooseName}[]" value="{$thread.thread_id}" class="js-chooseItem" />
								</xf:checkbox></li>
							<xf:elseif is="$allowInlineMod AND $thread.canUseInlineModeration()" />
								<li><xf:checkbox standalone="true">
									<xf:option value="{$thread.thread_id}" class="js-inlineModToggle"
										data-xf-init="tooltip"
										title="{{ phrase('select_for_moderation') }}"
										label="{{ phrase('select_for_moderation') }}"
										hiddenlabel="true"
									/>
								</xf:checkbox></li>
							</xf:if>
						</xf:contentcheck>
						</ul>
					</xf:if>

					<xf:if is="$thread.discussion_state == 'deleted'">
						<xf:if is="{$extraInfo}"><span class="structItem-extraInfo">{$extraInfo}</span></xf:if>

						<xf:macro template="deletion_macros" name="notice" arg-log="{$thread.DeletionLog}" />
					<xf:else />
						<div>
							<xf:macro name="movie_info" arg-thread="{$thread}" arg-onlyInclude="{{ $xf.options.tmdbthreads_threadListInfo }}" />
							<ul class="structItem-parts">
								<li><xf:username user="$thread.User" defaultname="{$thread.username}" /></li>
								<li class="structItem-startDate"><a href="{{ link('threads', $thread) }}" rel="nofollow"><xf:date time="{$thread.post_date}" /></a></li>
								<xf:if is="!$forum">
									<li><a href="{{ link('forums', $thread.Forum) }}">{$thread.Forum.title}</a></li>
								</xf:if>
							</ul>
						</div>

						<xf:if is="$thread.discussion_type != 'redirect' && $thread.reply_count >= $xf.options.messagesPerPage && $xf.options.lastPageLinks">
							<span class="structItem-pageJump">
							<xf:foreach loop="{{ last_pages($thread.reply_count + 1, $xf.options.messagesPerPage, $xf.options.lastPageLinks) }}" value="$p">
								<a href="{{ link('threads', $thread, {'page': $p}) }}">{$p}</a>
							</xf:foreach>
							</span>
						</xf:if>
					</xf:if>
					
				</div>
			</div>
		<xf:else />
			<xf:extensionparent />
		</xf:if>
	</xf:extension>

</xf:macro>

<xf:macro name="movie_info" arg-thread="!" arg-onlyInclude="{{ null }}">
	<!--[XF:snog_movies_thread_list_info_top]-->
	<xf:if is="!$onlyInclude || $onlyInclude.title"><b>{{ phrase('title') }}:</b> {$thread.Movie.tmdb_title}<br /></xf:if>
	<xf:if is="(!$onlyInclude || $onlyInclude.tagline) && $thread.Movie.tmdb_tagline"><b>{{ phrase('snog_movies_tagline') }}:</b> {$thread.Movie.tmdb_tagline}<br /></xf:if>
	<xf:if is="(!$onlyInclude || $onlyInclude.genres) && $thread.Movie.tmdb_genres"><b>{{ phrase('snog_movies_genre') }}:</b> {$thread.Movie.tmdb_genres}<br /></xf:if>
	<xf:if is="(!$onlyInclude || $onlyInclude.director) && $thread.Movie.tmdb_director"><b>{{ phrase('snog_movies_director') }}:</b> {$thread.Movie.tmdb_director}<br /></xf:if>
	<xf:if is="(!$onlyInclude || $onlyInclude.runtime) && $thread.Movie.tmdb_runtime"><b>{{ phrase('snog_movies_runtime') }}:</b> {$thread.Movie.tmdb_runtime}<br /></xf:if>
	<xf:if is="(!$onlyInclude || $onlyInclude.status) && $thread.Movie.tmdb_status"><b>{{ phrase('snog_movies_status') }}:</b> {$thread.Movie.tmdb_status}<br /></xf:if>
	<xf:if is="(!$onlyInclude || $onlyInclude.release_date) && $thread.Movie.tmdb_release"><b>{{ phrase('snog_movies_release') }}:</b> {$thread.Movie.tmdb_release}<br /></xf:if>
	<!--[XF:snog_movies_thread_list_info_bottom]-->
</xf:macro>]]></template>
  <template type="public" title="snog_movies_thread_list_poster" version_id="2020034" version_string="2.2.0 Beta 4"><![CDATA[<xf:if is="$thread.Movie is not empty">
	<div class="structItem-cell structItem-cell--movie">
		<img class="moviePoster" src="{{ $thread.Movie.getImageUrl('s') }}" />
	</div>
<xf:else />
	<div class="structItem-cell structItem-cell--movie">
		<div class="structItem-iconContainer">
			<xf:avatar user="$thread.User" size="s" defaultname="{$thread.username}" />
			<xf:if is="$thread.getUserPostCount()">
				<xf:avatar user="$xf.visitor" size="s"
					href=""
					class="avatar--separated structItem-secondaryIcon"
					title="{{ phrase('you_have_posted_x_messages_in_this_thread', {'count': $thread.getUserPostCount() })|for_attr }}" />
			</xf:if>
		</div>
	</div>
</xf:if>]]></template>
  <template type="public" title="snog_movies_thread_type_fields_movie" version_id="2020019" version_string="2.2.0 Alpha 9"><![CDATA[<xf:if is="$context == 'create' AND $subContext == 'quick'">
	<xf:set var="$rowType" value="fullWidth noGutter mergeNext" />
<xf:elseif is="$context == 'edit' AND $subContext == 'first_post_quick'" />
	<xf:set var="$rowType" value="fullWidth mergeNext" />
<xf:else />
	<xf:set var="$rowType" value="" />
</xf:if>

<xf:textboxrow name="snog_movies_tmdb_id" value="{$thread.Movie.tmdb_id}"
			   label="{{ phrase('snog_movies_link_id') }}"
			   explain="{{ phrase('snog_movies_explain_link') }}"
			   rowtype="{$rowType}"
			   disabled="{{ $context == 'edit' }}" />]]></template>
  <template type="public" title="snog_movies_thread_view_type_movie" version_id="2020050" version_string="2.2.0 Release Candidate"><![CDATA[<xf:extends template="thread_view" />

<xf:extension name="content_top">
	<xf:css src="snog_movies.less" />
</xf:extension>

<xf:extension name="thread_action_buttons">
	<xf:if is="{{ property('snog_movies_posterUpdateButtonPosition') == 'default' && $thread.Movie && ($xf.visitor.is_admin || $xf.visitor.is_moderator) }}">
		<xf:button href="{{ link('movies/poster', $thread.Movie) }}" class="button--link" overlay="true">
			{{ phrase('snog_movies_check_poster') }}
		</xf:button>
	</xf:if>

	<xf:extensionparent />
</xf:extension>

<xf:extension name="above_messages_below_pinned">
	<xf:if is="$thread.Movie is not empty && $page <= 1">
		<span class="moviehint">{{ phrase('snog_movies_information_thread')}}</span>
	</xf:if>
</xf:extension>]]></template>
  <template type="public" title="snog_movies_title_prompt" version_id="2000070" version_string="2.0.0"><![CDATA[<xf:css src="snog_movies.less" />
	
<xf:if is="!$xf.options.tmdbthreads_mix">
	<xf:set var="$placeholder" value="{{ phrase('snog_movies_link_id') }}" />
<xf:else />
	<xf:set var="$placeholder" value="{{ phrase('snog_movies_title_link_id') }}" />
</xf:if>
	
<xf:prefixinputrow
	label="{{ phrase('title') }}"
	prefixes="{$prefixes}"
	type="thread"
	prefix-value="{{ $thread.prefix_id ?: $forum.default_prefix_id }}"
	textbox-value="{{ $thread.title ?: $forum.draft_thread.title }}"
	textbox-class="input--title"
	placeholder="{$placeholder}"
	rowtype="fullWidth noLabel"
	autofocus="autofocus"
	maxlength="{{ max_length('XF:Thread', 'title') }}" 
	explain="{{ phrase('snog_movies_explain_link') }}" />]]></template>
  <template type="public" title="snog_movies_videos" version_id="2020021" version_string="2.2.0 Alpha 11"><![CDATA[<xf:title>{{ phrase('snog_movies_x_videos', {'name': $movie.tmdb_title}) }}</xf:title>

<xf:head option="metaNoindex"><meta name="robots" content="noindex" /></xf:head>

<div class="block">
	<xf:macro template="snog_movies_videos_macros" name="video_list"
			  arg-movie="{$movie}" arg-videos="{$videos}" arg-page="{$page}"
			  arg-hasMore="{$hasMore}" />
</div>]]></template>
  <template type="public" title="snog_movies_videos_macros" version_id="2020022" version_string="2.2.0 Alpha 12"><![CDATA[<xf:macro name="video_list" arg-movie="!" arg-videos="!" arg-page="1" arg-hasMore="{{ false }}">
	<ul class="listPlain js-movieVideoList{$movie.tmdb_id}">
		<xf:foreach loop="{$videos}" value="$video">
			<li class="block-row block-row--separated">
				<xf:macro name="video_info" arg-video="{$video}" />
			</li>
		</xf:foreach>
	</ul>

	<xf:if is="$hasMore">
		<div class="block-footer js-movieVideoLoadMore{$movie.tmdb_id}">
			<span class="block-footer-controls">
				<xf:button href="{{ link('movies/videos', $movie, {'page': $page + 1}) }}"
					data-xf-click="inserter"
					data-append=".js-movieVideoList{$movie.tmdb_id}"
					data-replace=".js-movieVideoLoadMore{$movie.tmdb_id}">
					{{ phrase('more...') }}
				</xf:button>
			</span>
		</div>
	</xf:if>
</xf:macro>

<xf:macro name="video_info" arg-video="!">
	<div class="contentRow">
		<div class="contentRow-figure">
			<xf:if is="$video.site == 'YouTube'">
				<iframe width="300" src="https://www.youtube.com/embed/{$video.key}?wmode=opaque&showinfo=0&controls=2&start=0"
						height="150"
						allowfullscreen
						frameborder="0">
				</iframe>
			</xf:if>
		</div>
		<div class="contentRow-main">
			<h2 class="contentRow-title">{$video.name}</h2>
			<div class="contentRow-minor">
				<ul class="listInline listInline--bullet">
					<li>{$video.type}</li>
					<li><xf:date time="{$video.published_at}" /></li>
				</ul>
			</div>
		</div>
	</div>
</xf:macro>]]></template>
  <template type="public" title="widget_snog_movies_poster_slider" version_id="2020049" version_string="2.2.0 Beta 19"><![CDATA[<xf:set var="$template">
	<xf:if is="$movies is not empty">
		<xf:css src="carousel.less" />
		<xf:css src="lightslider.less" />
		<xf:css src="snog_movies_slider.less" />

		<xf:js prod="xf/carousel-compiled.js" dev="vendor/lightslider/lightslider.min.js" />
		<xf:js dev="Snog/Movies/slider.js" prod="Snog/Movies/slider.min.js" addon="Snog/Movies" />

		<div class="carousel carousel-moviePosterSlider carousel--withFooter" {{ widget_data($widget) }}>
			<ul class="carousel-body" data-xf-init="snog-movies-slider"
				data-xf-snog-movies-slider="{$options.slider|json}">

				<xf:foreach loop="$movies" value="$movie">
					<li>
						<div class="carousel-item-simple">
							<a class="carousel-item-image" href="{{ link('threads', $movie.Thread) }}">
								<img src="{$movie.getImageUrl()}" style="width: {$options.image_width}; height: {$options.image_height}" />

								<xf:if is="{$options.show_rating}">
									<span class="carousel-item-label">
										<xf:fa icon="star" /> {$movie.tmdb_rating}
									</span>
								</xf:if>
								
								<span class="carousel-item-caption" title="{$movie.Thread.title}">
									{$movie.Thread.title}
								</span>
							</a>
						</div>
					</li>
				</xf:foreach>
			</ul>

		</div>
	</xf:if>
</xf:set>

<xf:if is="!$options.advanced_mode">
	<xf:if contentcheck="true">
	<div class="block">
		<div class="block-container" {{ widget_data($widget) }}>
			<xf:if is="$title">
				<h3 class="block-minorHeader">{$title}</h3>
			</xf:if>
			<div class="block-body block-row">
				<xf:contentcheck>{$template|raw}</xf:contentcheck>
			</div>
		</div>
	</div>
	</xf:if>
<xf:else />
	{$template|raw}
</xf:if>]]></template>
  <template type="public" title="widget_snog_movies_slider" version_id="2020040" version_string="2.2.0 Beta 10"><![CDATA[<xf:if is="$movies is not empty">

	<xf:css src="carousel.less" />
	<xf:css src="lightslider.less" />
	<xf:js prod="xf/carousel-compiled.js" dev="vendor/lightslider/lightslider.min.js, xf/carousel.js" />
	<xf:js dev="Snog/Movies/slider.js" prod="Snog/Movies/slider.min.js" addon="Snog/Movies" />

	<div class="carousel carousel--withFooter" {{ widget_data($widget) }}>
		<ul class="carousel-body carousel-body--show2" data-xf-init="snog-movies-slider"
			data-xf-snog-movies-slider="{$options.slider|json}">
			<xf:foreach loop="$movies" value="$movie">
				<li>
					<div class="carousel-item">
						<div class="contentRow">
							<div class="contentRow-figure">
								<span class="contentRow-figureIcon"><img src="{$movie.getImageUrl()}" /></span>
							</div>

							<div class="contentRow-main">
								<div class="contentRow-title">
									<a href="{{ link('threads', $movie.Thread) }}">{$movie.Thread.title}</a>
									<span class="label"><xf:fa icon="star" /> {$movie.tmdb_rating}</span>
								</div>

								<xf:if is="$options.show_plot && $movie.tmdb_plot">
									<div class="contentRow-lesser">
										{{ snippet($movie.tmdb_plot, 150) }}
									</div>
								</xf:if>

								<div class="contentRow-minor contentRow-minor--smaller">
									<ul class="listInline listInline--bullet">
										<xf:if is="$options.show_tagline && $movie.tmdb_tagline"><li><b>{{ phrase('snog_movies_tagline') }}:</b> {$movie.tmdb_tagline}</li></xf:if>
										<xf:if is="$options.show_genres && $movie.tmdb_genres"><li><b>{{ phrase('snog_movies_genre') }}:</b> {$movie.tmdb_genres}</li></xf:if>
										<xf:if is="$options.show_director && $movie.tmdb_director"><li><b>{{ phrase('snog_movies_director') }}:</b> {$movie.tmdb_director}</li></xf:if>
										<xf:if is="$options.show_cast && $movie.tmdb_cast"><li><b>{{ phrase('snog_movies_cast') }}:</b> {$movie.tmdb_cast}</li></xf:if>
										<xf:if is="$options.show_status && $movie.tmdb_status"><li><b>{{ phrase('snog_movies_status') }}:</b> {$movie.tmdb_status}</li></xf:if>
										<xf:if is="$options.show_release_date && $movie.tmdb_release"><li><b>{{ phrase('snog_movies_release') }}:</b> {$movie.tmdb_release}</li></xf:if>
										<xf:if is="$options.show_runtime && $movie.tmdb_runtime"><li><b>{{ phrase('snog_movies_runtime') }}:</b> {$movie.tmdb_runtime}</li></xf:if>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</li>
			</xf:foreach>
		</ul>
	</div>
</xf:if>]]></template>
</templates>
