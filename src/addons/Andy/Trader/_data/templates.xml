<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="email" title="andy_trader_buyer" version_id="228" version_string="2.8"><![CDATA[<mail:subject>
	{{ phrase('trader_subject') }} ({{ phrase('trader_from') }} {$xf.options.boardTitle})
</mail:subject>

<h2>{{ phrase('trader_subject') }}</h2>

{{ phrase('trader_buyer:') }} <a href="{{ link('canonical:members', $buyer) }}">{$buyer.username}</a><br />
{{ phrase('trader_seller:') }} <a href="{{ link('canonical:members', $seller) }}">{$seller.username}</a><br />

<xf:if is="{$rating} == 0">
	{{ phrase('trader_seller_rating:') }} {{ phrase('trader_positive') }}<br />
</xf:if>

<xf:if is="{$rating} == 1">
	{{ phrase('trader_seller_rating:') }} {{ phrase('trader_neutral') }}<br />
</xf:if>

<xf:if is="{$rating} == 2">
	{{ phrase('trader_seller_rating:') }} {{ phrase('trader_negative') }}<br />
</xf:if>

{{ phrase('trader_seller_comment:') }} {$seller_comment}]]></template>
  <template type="email" title="andy_trader_seller" version_id="228" version_string="2.8"><![CDATA[<mail:subject>
	{{ phrase('trader_subject') }} ({{ phrase('trader_from') }} {$xf.options.boardTitle})
</mail:subject>

<h2>{{ phrase('trader_subject') }}</h2>

{{ phrase('trader_seller:') }} <a href="{{ link('canonical:members', $seller) }}">{$seller.username}</a><br />
{{ phrase('trader_buyer:') }} <a href="{{ link('canonical:members', $buyer) }}">{$buyer.username}</a><br />

<xf:if is="{$rating} == 0">
	{{ phrase('trader_buyer_rating:') }} {{ phrase('trader_positive') }}<br />
</xf:if>

<xf:if is="{$rating} == 1">
	{{ phrase('trader_buyer_rating:') }} {{ phrase('trader_neutral') }}<br />
</xf:if>

<xf:if is="{$rating} == 2">
	{{ phrase('trader_buyer_rating:') }} {{ phrase('trader_negative') }}<br />
</xf:if>

{{ phrase('trader_buyer_comment:') }} {$buyer_comment}]]></template>
  <template type="public" title="andy_trader.less" version_id="226" version_string="2.6"><![CDATA[.trader-muted {
	color: @xf-paletteNeutral2 !important;
}]]></template>
  <template type="public" title="andy_trader_edit_buyer" version_id="231" version_string="3.1"><![CDATA[<xf:title>{{ phrase('trader_edit_buying_history') }}</xf:title>

<xf:css src="andy_trader.less" />

<xf:if is="{{ $xf.visitor.hasPermission('trader', 'admin') }}">
<a href="{{ link('trader/deletebuyer', '', {'trader_id': $traderId}) }}">{{ phrase('trader_delete') }}</a>
<br /><br />
</xf:if>

<xf:form action="{{ link('trader/updatebuyer', '', {'trader_id': $traderId}) }}" ajax="false" class="block" data-force-flash-message="true">
	<div class="block-container">
		<div class="block-body">

			<xf:textboxrow label="{{ phrase('trader_trader_id') }}" name="trader_id" readonly="readonly" value="{$results.trader_id}" class="trader-muted" />
			
			<xf:textboxrow label="{{ phrase('trader_username') }}" name="username" readonly="readonly" value="{$results.UserBuyer.username}" class="trader-muted" />
			
			<xf:radiorow label="{{ phrase('trader_rating') }}" name="rating">
				<xf:option value="0" checked="{$checked1}">
					<xf:label>{{ phrase('trader_positive') }}</xf:label>
				</xf:option>
				<xf:option value="1" checked="{$checked2}">
					<xf:label>{{ phrase('trader_neutral') }}</xf:label>
				</xf:option>
				<xf:option value="2" checked="{$checked3}">
					<xf:label>{{ phrase('trader_negative') }}</xf:label>
				</xf:option>
			</xf:radiorow>

			<xf:textarearow name="seller_comment" value="{$results.seller_comment}" rows="5" autosize="true"
				label="{{ phrase('trader_seller_comment') }}"
				explain="{{ phrase('trader_as_a_seller_please_describe_your_experience_with_this_buyer') }}" />
		</div>
	</div>

	<xf:submitrow submit="{{ phrase('trader_submit') }}" />

</xf:form>]]></template>
  <template type="public" title="andy_trader_edit_seller" version_id="230" version_string="3.0"><![CDATA[<xf:title>{{ phrase('trader_edit_selling_history') }}</xf:title>

<xf:css src="andy_trader.less" />

<xf:if is="{{ $xf.visitor.hasPermission('trader', 'admin') }}">
<a href="{{ link('trader/deleteseller', '', {'trader_id': $traderId}) }}">{{ phrase('trader_delete') }}</a>
<br /><br />
</xf:if>

<xf:form action="{{ link('trader/updateseller', '', {'trader_id': $traderId}) }}" ajax="false" class="block" data-force-flash-message="true">
	<div class="block-container">
		<div class="block-body">

			<xf:textboxrow label="{{ phrase('trader_trader_id') }}" name="trader_id" readonly="readonly" value="{$results.trader_id}" class="trader-muted" />
			
			<xf:textboxrow label="{{ phrase('trader_username') }}" name="username" readonly="readonly" value="{$results.UserSeller.username}" class="trader-muted" />
			
			<xf:radiorow label="{{ phrase('trader_rating') }}" name="rating">
				<xf:option value="0" checked="{$checked1}">
					<xf:label>{{ phrase('trader_positive') }}</xf:label>
				</xf:option>
				<xf:option value="1" checked="{$checked2}">
					<xf:label>{{ phrase('trader_neutral') }}</xf:label>
				</xf:option>
				<xf:option value="2" checked="{$checked3}">
					<xf:label>{{ phrase('trader_negative') }}</xf:label>
				</xf:option>
			</xf:radiorow>

			<xf:textarearow name="buyer_comment" value="{$results.buyer_comment}" rows="5" autosize="true"
				label="{{ phrase('trader_buyer_comment') }}"
				explain="{{ phrase('trader_as_a_buyer_please_describe_your_experience_with_this_seller') }}" />
		</div>
	</div>

	<xf:submitrow submit="{{ phrase('trader_submit') }}" />

</xf:form>]]></template>
  <template type="public" title="andy_trader_history" version_id="231" version_string="3.1"><![CDATA[<xf:title>{{ phrase('trader_trader_history') }}</xf:title>

<xf:username user="$user" rich="true" />

<br /><br />

<div class="block">
	<div class="block-container">
		<div class="block-body block-row" style="padding:20px">

			<xf:if is="{{ $xf.visitor.hasPermission('trader', 'view') }}">
				<a href="{{ link('trader/ratingseller', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_selling_history') }} ({$sellerCount})</a>
			</xf:if>
			
			<br />
			<br />
			
			<xf:if is="{{ $xf.visitor.hasPermission('trader', 'view') }} AND {{ $xf.visitor.hasPermission('trader', 'rate') }}">
				<a href="{{ link('trader/rateseller', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_submit_feedback') }}</a>
			</xf:if>
			
		</div>
	</div>
</div>

<div class="block">
	<div class="block-container">
		<div class="block-body block-row" style="padding:20px">

			<xf:if is="{{ $xf.visitor.hasPermission('trader', 'view') }}">
				<a href="{{ link('trader/ratingbuyer', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_buying_history') }} ({$buyerCount})</a>
			</xf:if>

			<br />
			<br />

			<xf:if is="{{ $xf.visitor.hasPermission('trader', 'view') }} AND {{ $xf.visitor.hasPermission('trader', 'rate') }}">
				<a href="{{ link('trader/ratebuyer', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_submit_feedback') }}</a>
			</xf:if>
			
		</div>
	</div>
</div>]]></template>
  <template type="public" title="andy_trader_rate_buyer" version_id="231" version_string="3.1"><![CDATA[<xf:title>{{ phrase('trader_submit_feedback') }}</xf:title>

<xf:css src="andy_trader.less" />

<xf:username user="$user" rich="true" />

<br /><br />

<a href="{{ link('trader/history', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_return_to_trader_history') }}</a>
<br />
<br />

<xf:form action="{{ link('trader/savebuyer', '', {'user_id': $userId}) }}" ajax="false" class="block" data-force-flash-message="true">
	<div class="block-container">
		<div class="block-body">
			
			<xf:textboxrow label="{{ phrase('trader_username') }}" name="username" readonly="readonly" value="{$username}" class="trader-muted" />
			
			<xf:radiorow label="{{ phrase('trader_rating') }}" name="rating">
				<xf:option value="0" selected="1">
					<xf:label>{{ phrase('trader_positive') }}</xf:label>
				</xf:option>
				<xf:option value="1">
					<xf:label>{{ phrase('trader_neutral') }}</xf:label>
				</xf:option>
				<xf:option value="2">
					<xf:label>{{ phrase('trader_negative') }}</xf:label>
				</xf:option>
			</xf:radiorow>

			<xf:textarearow name="seller_comment" rows="5" autosize="true"
				label="{{ phrase('trader_seller_comment') }}"
				explain="{{ phrase('trader_as_a_seller_please_describe_your_experience_with_this_buyer') }}" />
		</div>
	</div>

	<xf:submitrow submit="{{ phrase('trader_submit') }}" />

</xf:form>]]></template>
  <template type="public" title="andy_trader_rate_seller" version_id="231" version_string="3.1"><![CDATA[<xf:title>{{ phrase('trader_submit_feedback') }}</xf:title>

<xf:css src="andy_trader.less" />

<xf:username user="$user" rich="true" />

<br /><br />

<a href="{{ link('trader/history', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_return_to_trader_history') }}</a>
<br />
<br />

<xf:form action="{{ link('trader/saveseller', '', {'user_id': $userId}) }}" ajax="false" class="block" data-force-flash-message="true">
	<div class="block-container">
		<div class="block-body">
			
			<xf:textboxrow label="{{ phrase('trader_username') }}" name="username" readonly="readonly" value="{$username}" class="trader-muted" />
			
			<xf:radiorow label="{{ phrase('trader_rating') }}" name="rating">
				<xf:option value="0" selected="1">
					<xf:label>{{ phrase('trader_positive') }}</xf:label>
				</xf:option>
				<xf:option value="1">
					<xf:label>{{ phrase('trader_neutral') }}</xf:label>
				</xf:option>
				<xf:option value="2">
					<xf:label>{{ phrase('trader_negative') }}</xf:label>
				</xf:option>
			</xf:radiorow>

			<xf:textarearow name="buyer_comment" rows="5" autosize="true"
				label="{{ phrase('trader_buyer_comment') }}"
				explain="{{ phrase('trader_as_a_buyer_please_describe_your_experience_with_this_seller') }}" />
		</div>
	</div>

	<xf:submitrow submit="{{ phrase('trader_submit') }}" />

</xf:form>]]></template>
  <template type="public" title="andy_trader_rating_buyer" version_id="231" version_string="3.1"><![CDATA[<xf:title>{{ phrase('trader_buying_history') }}</xf:title>

<xf:username user="$user" rich="true" />

<br /><br />

<a href="{{ link('trader/history', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_return_to_trader_history') }}</a>
<br />
<br />

<div class="block-container">
	<div class="block-body">
		<xf:datalist data-xf-init="responsive-data-list">
			<xf:datarow rowtype="header">
				<xf:cell>{{ phrase('trader_date') }}</xf:cell>
				<xf:cell>{{ phrase('trader_rating') }}</xf:cell>
				<xf:cell>{{ phrase('trader_buyer') }}</xf:cell>
				<xf:cell>{{ phrase('trader_seller') }}</xf:cell>
				<xf:cell>{{ phrase('trader_seller_comment') }}</xf:cell>
				<xf:cell>{{ phrase('trader_action') }}</xf:cell>
			</xf:datarow>
			<xf:foreach loop="$results" value="$result">
				<xf:datarow rowclass="dataList-row--noHover">
					<xf:cell><xf:date time="{$result.timestamp}" /></xf:cell>
					
					<xf:if is="{$result.rating} == 0">
					<xf:cell>{{ phrase('trader_positive') }}</xf:cell>
					</xf:if>

					<xf:if is="{$result.rating} == 1">
					<xf:cell>{{ phrase('trader_neutral') }}</xf:cell>
					</xf:if>

					<xf:if is="{$result.rating} == 2">
					<xf:cell>{{ phrase('trader_negative') }}</xf:cell>
					</xf:if>
					
					<xf:cell><a href="{$xf.options.traderMembersLink}{$result.buyer_id}/">{$result.UserBuyer.username}</a></xf:cell>
					<xf:cell><a href="{$xf.options.traderMembersLink}{$result.seller_id}/">{$result.UserSeller.username}</a></xf:cell>

					<xf:cell>{$result.seller_comment}</xf:cell>
					
					<xf:if is="{$xf.visitor.user_id} == {$result.seller_id} AND {$editLimit} < {$result.timestamp} AND !{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell><a href="{{ link('trader/editbuyer', '', {'trader_id': $result.trader_id}) }}">{{ phrase('trader_edit') }}</a></xf:cell>
					</xf:if>

					<xf:if is="{$xf.visitor.user_id} == {$result.seller_id} AND {$editLimit} >= {$result.timestamp} AND !{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell>&nbsp</xf:cell>
					</xf:if>    	

					<xf:if is="{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell><a href="{{ link('trader/editbuyer', '', {'trader_id': $result.trader_id}) }}">{{ phrase('trader_edit') }}</a></xf:cell>
					</xf:if>  	

					<xf:if is="{$xf.visitor.user_id} != {$result.seller_id} AND !{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell>&nbsp</xf:cell>
					</xf:if> 					

				</xf:datarow>
			</xf:foreach>
		</xf:datalist>
	</div>
</div>

<br />]]></template>
  <template type="public" title="andy_trader_rating_seller" version_id="231" version_string="3.1"><![CDATA[<xf:title>{{ phrase('trader_selling_history') }}</xf:title>

<xf:username user="$user" rich="true" />

<br /><br />

<a href="{{ link('trader/history', '', {'user_id': $userId}) }}" rel="nofollow">{{ phrase('trader_return_to_trader_history') }}</a>
<br />
<br />

<div class="block-container">
	<div class="block-body">
		<xf:datalist data-xf-init="responsive-data-list">
			<xf:datarow rowtype="header">
				<xf:cell>{{ phrase('trader_date') }}</xf:cell>
				<xf:cell>{{ phrase('trader_rating') }}</xf:cell>
				<xf:cell>{{ phrase('trader_seller') }}</xf:cell>
				<xf:cell>{{ phrase('trader_buyer') }}</xf:cell>
				<xf:cell>{{ phrase('trader_buyer_comment') }}</xf:cell>
				<xf:cell>{{ phrase('trader_action') }}</xf:cell>
			</xf:datarow>
			<xf:foreach loop="$results" value="$result">
				<xf:datarow rowclass="dataList-row--noHover">
					<xf:cell><xf:date time="{$result.timestamp}" /></xf:cell>
					
					<xf:if is="{$result.rating} == 0">
					<xf:cell>{{ phrase('trader_positive') }}</xf:cell>
					</xf:if>

					<xf:if is="{$result.rating} == 1">
					<xf:cell>{{ phrase('trader_neutral') }}</xf:cell>
					</xf:if>

					<xf:if is="{$result.rating} == 2">
					<xf:cell>{{ phrase('trader_negative') }}</xf:cell>
					</xf:if>					
					
					<xf:cell><a href="{$xf.options.traderMembersLink}{$result.seller_id}/">{$result.UserSeller.username}</a></xf:cell>
					<xf:cell><a href="{$xf.options.traderMembersLink}{$result.buyer_id}/">{$result.UserBuyer.username}</a></xf:cell>
					
					<xf:cell>{$result.buyer_comment}</xf:cell>
					
					<xf:if is="{$xf.visitor.user_id} == {$result.buyer_id} AND {$editLimit} < {$result.timestamp} AND !{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell><a href="{{ link('trader/editseller', '', {'trader_id': $result.trader_id}) }}">{{ phrase('trader_edit') }}</a></xf:cell>
					</xf:if>

					<xf:if is="{$xf.visitor.user_id} == {$result.buyer_id} AND {$editLimit} >= {$result.timestamp} AND !{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell>&nbsp</xf:cell>
					</xf:if>    	

					<xf:if is="{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell><a href="{{ link('trader/editseller', '', {'trader_id': $result.trader_id}) }}">{{ phrase('trader_edit') }}</a></xf:cell>
					</xf:if>  	

					<xf:if is="{$xf.visitor.user_id} != {$result.buyer_id} AND !{{ $xf.visitor.hasPermission('trader', 'admin') }}">
						<xf:cell>&nbsp</xf:cell>
					</xf:if> 					

				</xf:datarow>
			</xf:foreach>
		</xf:datalist>
	</div>
</div>

<br />]]></template>
</templates>
