<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="public" template="member_macros" modification_key="Trader_member_view" description="Trader_member_view" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<!--[XF:action_group_2:end]-->]]></find>
    <replace><![CDATA[<xf:if is="{{ $xf.visitor.hasPermission('trader', 'view') }}">
	<div class="buttonGroup">
		<xf:button href="{{ link('trader/history', '', {'user_id': $user.user_id}) }}" class="button--link">{{ phrase('trader_trader_history') }} ({{ ($user.andy_trader_seller_count + $user.andy_trader_buyer_count)|number }})</xf:button>
	</div>
</xf:if>
$0]]></replace>
  </modification>
  <modification type="public" template="thread_view" modification_key="Trader_thread_view" description="Trader_thread_view" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<xf:breadcrumb source="$forum.getBreadcrumbs()" />]]></find>
    <replace><![CDATA[$0
<xf:if is="{{ $xf.visitor.hasPermission('trader', 'view') }}">
	<xf:if is="in_array($thread.node_id, $xf.options.traderForums)">
		<xf:button href="{{ link('trader/history', '', {'user_id': $thread.user_id}) }}" class="button--link">{{ phrase('trader_trader_history') }} ({{ ($thread.User.andy_trader_seller_count + $thread.User.andy_trader_buyer_count)|number }})</xf:button>
		<br /><br />
	</xf:if>
</xf:if>]]></replace>
  </modification>
</template_modifications>
