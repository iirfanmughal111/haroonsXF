<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="public" title="addEdit_dropdownReply" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:if is="$thread">
  <xf:title>{{ phrase('editNewdropdownReply') }}</xf:title>
  <xf:else />
  <xf:title>{{ phrase('addNewdropdownReply:') }}</xf:title>
</xf:if>

<div class="block">
  <xf:if is="$thread">
    <xf:form
      action="{{ link('dropdownreply/save') }}"
      ajax="true"
      class="block-container"
      novalidate="novalidate"
    >
      <div class="block-body">
        <xf:if is="$thread.is_dropdown_active">
          <xf:checkboxrow>
            <xf:option name="status" checked="true">Active</xf:option>
          </xf:checkboxrow>
          <xf:else />
          <xf:checkboxrow>
            <xf:option name="status">Active</xf:option>
          </xf:checkboxrow>
        </xf:if>
        <input type="hidden" name="thread_id" value="{{$thread.thread_id}}" />

        <xf:formrow label="{{ phrase('DropdownOptions') }}" rowtype="input">
          <xf:foreach loop="$thread.dropdwon_options" value="$thread_val">
            <xf:if is="$thread_val">
              <xf:textboxrow
                name="options[]"
                placeholder="{{ phrase('enter_new_replay') }}"
                data-i="0"
                dir="ltr"
                value="{$thread_val}"
                rowtype="fullWidth"
              />
            </xf:if>
          </xf:foreach>
          <div
            class="inputGroup is-undraggable js-blockDragafter"
            data-xf-init="field-adder"
            data-remove-class="is-undraggable js-blockDragafter"
          >
            <xf:textboxrow
              name="options[]"
              placeholder="{{ phrase('enter_new_replay') }}"
              data-i="0"
              dir="ltr"
              rowtype="fullWidth"
            />
          </div>
        </xf:formrow>
      </div>

      <xf:submitrow icon="save" sticky="true" />
    </xf:form>
    <xf:else />

    <xf:form
      action="{{ link('dropdownreply/save',$thread) }}"
      ajax="true"
      class="block-container"
      novalidate="novalidate"
    >
      <!-- {{$xf.visitor.is_moderator}} -->

      <div class="block-body">
        <xf:checkboxrow>
          <xf:option name="status">Active</xf:option>
        </xf:checkboxrow>
        <input type="hidden" name="thread_id" value="{{$thread_id}}" />
        <xf:formrow label="{{ phrase('DropdownOptions') }}" rowtype="input">
          <div
            class="inputGroup is-undraggable js-blockDragafter"
            data-xf-init="field-adder"
            data-remove-class="is-undraggable js-blockDragafter"
          >
            <xf:textboxrow
              name="options[]"
              placeholder="{{ phrase('enter_new_replay') }}"
              data-i="0"
              dir="ltr"
              rowtype="fullWidth"
            />
          </div>
        </xf:formrow>
      </div>

      <xf:submitrow icon="save" sticky="true" />
    </xf:form>
  </xf:if>
</div>
]]></template>
  <template type="public" title="index_dropdownReply" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('fs_dropdown_reply_title') }}</xf:title>

<xf:breadcrumb source="$dropdownReplys.getBreadcrumbs(false)" />

<xf:pageaction>
  <xf:button href="{{ link('dropdownreply/add',$dropdownReplys) }}" icon="add"
    >{{ phrase('fs_dropdown_reply') }}</xf:button
  >
</xf:pageaction>
<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
  <div class="block-container">
    <xf:if is="$dropdownReplys.dropdwon_options != null">
      <div class="block-body">
        <xf:datalist data-xf-init="responsive-data-list">
          <xf:macro
            name="usergroup_table_list"
            arg-usergroupData="{$dropdownReplys}"
          />
        </xf:datalist>
      </div>
      <xf:else />
      <div class="block-body block-row">
        {{ phrase('no_items_have_been_created_yet') }}
      </div>
    </xf:if>
  </div>
</xf:form>
<xf:macro name="usergroup_table_list" arg-dropdownReplys="{$dropdownReplys}">
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('dropdownTitlle') }} </xf:cell>
    <xf:cell> {{ phrase('activeStatus') }} </xf:cell>
    <xf:cell> {{ phrase('DropdwonOptions') }} </xf:cell>

    <xf:cell class="dataList-cell--min"></xf:cell>
    <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>

  <xf:datarow>
    <xf:cell> {$dropdownReplys.title} </xf:cell>

    <xf:cell>
      {{$dropdownReplys.is_dropdown_active == 0 ? 'Inactive' : 'Active' }}
    </xf:cell>
    <xf:cell>
      {{ snippet($dropdownReplys.dropdwon_options.0, 10, {'stripBbCode': true})
      }}
    </xf:cell>

    <xf:action href="{{ link('dropdownreply/edit', $dropdownReplys) }}"
      >{{ phrase('edit') }}</xf:action
    >
    <xf:delete
      href="{{ link('dropdownreply/delete', $dropdownReplys) }}"
      overlay="true"
    />
  </xf:datarow>
</xf:macro>]]></template>
</templates>
