<xf:if is="{$urlType} == 'upgradeGroup'">
<xf:title>{{ phrase('fs_upgrade_usergroup_title') }}</xf:title>
	<xf:else/>
  <xf:title>{{ phrase('fs_change_usergroup_title') }}</xf:title>
	</xf:if>

<xf:pageaction>
  <xf:button href="{{ link(''.{$urlType}.'/add') }}" icon="add">
	  <xf:if is="{$urlType} == 'upgradeGroup'">
	{{ phrase('fs_upgrade_usergroup') }}
	<xf:else/>
  {{ phrase('fs_change_usergroup') }}
	</xf:if>
	  </xf:button>
</xf:pageaction>
<xf:form action="{{ link($prefix . '/toggle') }}" class="block" ajax="true">
  <div class="block-outer">
		<xf:macro
		  template="filter_macros"
		  name="quick_filter"
		  arg-key="{$urlType}"
		  arg-class="block-outer-opposite"
		/>
  </div>

  <div class="block-container">

  <xf:if is="$upgradeUserGroup is not empty">
	<div class="block-body">
			<xf:datalist data-xf-init="responsive-data-list">
					
				<xf:macro
					name="usergroup_table_list"
					arg-usergroupData="{$upgradeUserGroup}"
  					arg-urlType="{$urlType}"
				  />


				   </xf:datalist>
				<div class="block-footer">
					  <span class="block-footer-counter"
						>{{ display_totals($totalReturn, $total) }}</span
					  >
				</div>
		    
		</div>
       <xf:else />
			<div class="block-body block-row">{{ phrase('no_items_have_been_created_yet') }}</div>
		
       </xf:if>
    
 </div>


   <xf:pagenav
			page="{$page}"
			perpage="{$perPage}"
			total="{$total}"
			link="{$urlType}"
			wrapperclass="block"
		  />
</xf:form>
<xf:macro
  name="usergroup_table_list"
  arg-usergroupData=""
  arg-urlType=""
>
  <xf:datarow rowtype="header">
    <xf:cell> {{ phrase('fs_cell_usergroup') }} </xf:cell>
    <xf:cell> {{ phrase('fs_cell_upgrade_usergroup') }} </xf:cell>
	  <xf:if is="{$urlType} == 'upgradeGroup'">
         <xf:cell> {{ phrase('fs_cell_Messages') }} </xf:cell>
	<xf:else/>
          <xf:cell> {{ phrase('fs_cell_login') }} </xf:cell>
	</xf:if>
    <xf:cell class="dataList-cell--min"></xf:cell>
	 <xf:cell class="dataList-cell--min"></xf:cell>
  </xf:datarow>
  <xf:foreach loop="{$usergroupData}" value="$value">
    <xf:datarow>
		
          <xf:cell> {$value.UserGroup.title} </xf:cell>
          <xf:cell> {$value.UserGroups.title} </xf:cell>

		
			<xf:if is="{$urlType} == 'upgradeGroup'">
          <xf:cell> {$value.message_count} </xf:cell>
	<xf:else/>
          <xf:cell> {$value.last_login} </xf:cell>
	</xf:if>
	<xf:action href="{{ link(''.{$urlType}.'/edit', $value) }}" >{{ phrase('edit') }}</xf:action>
      <xf:delete
        href="{{ link(''.{$urlType}.'/delete', $value) }}"
        overlay="true"
      />
    </xf:datarow>
  </xf:foreach>
</xf:macro>