<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="admin" template="xfrm_category_edit" modification_key="fs_add_category_image" description="Add &quot;Image uploadingâ€œ field....!" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<xf:textarearow name="description" value="{$category.description}" autosize="true"
				label="{{ phrase('description') }}"
				explain="{{ phrase('you_may_use_html') }}" />]]></find>
    <replace><![CDATA[$0

<xf:uploadrow name="image" accept=".gif,.jpeg,.jpg,.jpe,.png"
					label="{{ phrase('fs_add_image') }}"
					explain="{{ phrase('fs_cate_upload_image') }}"></xf:uploadrow>
					<xf:if is="$category.isImage()">
						<xf:formrow>
						<xf:inforow rowtype="confirm">
							<img src="{$category.getImgUrl(true)}" style="width:80px;height:60px" >
						</xf:inforow>
							</xf:formrow>
					</xf:if>]]></replace>
  </modification>
  <modification type="public" template="xfrm_category_list_macros" modification_key="fs_replace_category_image_to_title" description="Replace Title to image" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[{$category.title}]]></find>
    <replace><![CDATA[<xf:if is="$xf.options.fs_enable_image">
<xf:if is="$category.isImage()">
						<xf:inforow rowtype="confirm">
							<img src="{$category.getImgUrl(true)}" style="max-width:40%">
						</xf:inforow>
	<xf:else/>
	$0
					</xf:if>
	<xf:else/>
	$0
	</xf:if>]]></replace>
  </modification>
</template_modifications>
