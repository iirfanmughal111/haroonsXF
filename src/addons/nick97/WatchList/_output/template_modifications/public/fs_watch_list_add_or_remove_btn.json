{
    "template": "thread_view",
    "description": "fs_watch_list_add_or_remove_btn",
    "execution_order": 10,
    "enabled": true,
    "action": "str_replace",
    "find": "<xf:extension name=\"thread_action_buttons\">",
    "replace": "$0\n\n<xf:if is=\"$xf.visitor.hasPermission('nick97_watch_list', 'manage_watchlist')\">\n\n\t<xf:if is=\"($thread.Movie OR $thread.TV) AND ($thread.discussion_type == 'snog_movies_movie' OR $thread.discussion_type == 'snog_tv' OR $thread.discussion_type == 'nick97_trakt_movies' OR $thread.discussion_type == 'nick97_trakt_tv')\">\n\n\t\t<xf:button href=\"{{ link('threads/watch-list', $thread) }}\" class=\"button--link\"\n\t\t\t\t   data-xf-click=\"switch-overlay\"\n\t\t\t\t   data-sk-watch=\"{{ phrase('add_watch_list') }}\"\n\t\t\t\t   data-sk-unwatch=\"{{ phrase('remove_watch_list') }}\">\n\t\t\t<xf:if is=\"{$thread.getWatchListExist()}\">\n\t\t\t\t{{ phrase('remove_watch_list') }}\n\t\t\t\t<xf:else />\n\t\t\t\t{{ phrase('add_watch_list') }}\n\t\t\t</xf:if>\n\t\t</xf:button>\n\n\t</xf:if>\n\n</xf:if>"
}