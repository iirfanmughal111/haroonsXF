var Trakt_Movies = window.Trakt_Movies || {};
!(function (c, e, f, g) {
  Trakt_Movies.Slider = XF.Element.newHandler({
    options: {
      items: null,
      pause: 4e3,
      auto: !0,
      controls: !0,
      loop: !1,
      pager: !1,
      pauseOnHover: !1,
      slideMargin: 10,
      galleryMargin: 5,
      itemsWide: 1,
      breakpointWide: 900,
      itemsMedium: 1,
      breakpointMedium: 480,
    },
    breakpoints: { 2: [700] },
    $items: null,
    responsive: [],
    init: function () {
      if (c.fn.lightSlider) {
        this.$items = this.$target.children();
        null === this.options.items &&
          (this.$target.attr("class").match(/--show(\d+)/)
            ? (this.options.items = parseInt(RegExp.$1, 10))
            : (this.options.items = 1));
        this.responsive = this.getResponsiveOptions();
        var a = this.getEffectiveItems();
        if (!(this.$items.length <= a)) {
          this.slider = this.$target.lightSlider(this.getSliderConfig());
          var b = this;
          c(e).on("resize", function () {
            b.$target.css("height", "");
            b.slider.refresh();
          });
        }
      } else console.error("Lightslider must be loaded");
    },
    getResponsiveOptions: function () {
      return [
        {
          breakpoint: this.options.breakpointWide,
          settings: { item: this.options.itemsWide },
        },
        {
          breakpoint: this.options.breakpointMedium,
          settings: { item: this.options.itemsMedium },
        },
      ];
    },
    getEffectiveItems: function () {
      var a = this.options.items,
        b = c(e).width(),
        d;
      for (d in this.responsive)
        b < this.responsive[d].breakpoint &&
          (a = this.responsive[d].settings.item);
      return a;
    },
    getSliderConfig: function () {
      console.log(this.responsive);
      return {
        adaptiveHeight: !0,
        item: this.options.items,
        addClass: "carousel-scrollContainer",
        slideMargin: this.options.slideMargin,
        galleryMargin: this.options.galleryMargin,
        thumbMargin: 5,
        controls: this.options.controls,
        auto: this.options.auto,
        pause: this.options.pause,
        speed: 400,
        loop: this.options.loop,
        pager: this.options.pager,
        pauseOnHover: this.options.pauseOnHover,
        rtl: XF.isRtl(),
        enableDrag: !0,
        responsive: this.responsive,
        slideMove: 2,
      };
    },
  });
  XF.Element.register("trakt-movies-slider", "Trakt_Movies.Slider");
})(jQuery, window, document);
